

[Version]
Signature="$CHICAGO$"
Class=MEDIA
ClassGUID={4d36e96c-e325-11ce-bfc1-08002be10318}
provider=%MSFT%
LayoutFile=layout.inf, layout1.inf, layout2.inf
DriverVer =11/18/1999,5.00.2184.1

[Manufacturer]
%ESSMfgName%=ESS

;; Mechanism for excluding drivers from the "Add New Hardware" list.
[ControlFlags]

ExcludeFromSelect = *

[ESS]
%Maestro1.DeviceDesc%=MAESTRO,      PCI\VEN_1285&DEV_0100
%Maestro2.DeviceDesc%=MAESTRO,      PCI\VEN_125D&DEV_1968
%Maestro2E.DeviceDesc%=MAESTRO2E,   PCI\VEN_125D&DEV_1978
%MaestroSB.DeviceDesc%=STUB_DEVICE,       MAESTRO_HWSBNODE

%Solo1.DeviceDesc%=SOLO_Device,           PCI\VEN_125D&DEV_1969

%Maestro2E.DeviceDesc%=MAESTRO_NEC,       PCI\VEN_125D&DEV_1978&SUBSYS_803C1033
%Maestro2E.DeviceDesc%=MAESTRO_NEC,       PCI\VEN_125D&DEV_1978&SUBSYS_80581033
%Maestro_T.DeviceDesc%=M2E_TOSHIBA,   PCI\VEN_125D&DEV_1978&SUBSYS_00011179

[MAESTRO]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=MAESTRO.CopyList
AddReg=MAESTRO.AddReg, MAESTRO_COMMON.AddReg

[MAESTRO2E]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=MAESTRO.CopyList
AddReg=MAESTRO.AddReg,MAESTRO_COMMON.AddReg, MAESTRO2E.AddReg

[MAESTRO_NEC]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=MAESTRO.CopyList
AddReg=MAESTRO.AddReg,MAESTRO_COMMON.AddReg, MAESTRO_NEC.AddReg,MAESTRO2E.AddReg

[M2E_TOSHIBA]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=TOSHIBA.CopyList
AddReg=TOSHIBA.AddReg, MAESTRO_COMMON.AddReg,M2E_TOSHIBA.AddReg,MAESTRO2E.AddReg

[MAESTRO.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSMaestro.I.Topology
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_Topology%,ESSMaestro.I.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_MSynth%,ESSMaestro.I.MSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_MSynth%,ESSMaestro.I.MSynth

[MAESTRO2E.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSMaestro.I.Topology
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_Topology%,ESSMaestro.I.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_MSynth%,ESSMaestro.I.MSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_MSynth%,ESSMaestro.I.MSynth

[MAESTRO_NEC.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSMaestro.I.Topology
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_Topology%,ESSMaestro.I.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_MSynth%,ESSMaestro.I.MSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_MSynth%,ESSMaestro.I.MSynth

[M2E_TOSHIBA.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSMaestro.I.Topology
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_Topology%,ESSMaestro.I.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_MSynth%,ESSMaestro.I.MSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_MSynth%,ESSMaestro.I.MSynth

[SOLO_Device]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=SOLO.CopyList
AddReg=SOLO.AddReg

[SOLO_Device.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSSolo.I.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSSolo.I.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSSolo.I.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSSolo.I.Topology
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_Topology%,ESSSolo.I.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,ESSSolo.I.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,ESSSolo.I.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,ESSSolo.I.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,ESSSolo.I.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,ESSSolo.I.FMSynth

[STUB_DEVICE]

[ESSMaestro.I.Wave]
AddReg=ESSMaestro.I.Wave.AddReg

[ESSMaestro.I.Wave.AddReg]
HKR,,FriendlyName,,%ESSMaestro.Wave.szPname%
HKR,,CLSID,,%Proxy.CLSID%

[ESSMaestro.I.Topology]
AddReg=ESSMaestro.I.Topo.AddReg

;; warning!! must be "Topo" because "Topology" is too long
[ESSMaestro.I.Topo.AddReg]
HKR,,FriendlyName,,%ESSMaestro.Topology.szPname%

[ESSMaestro.I.UART]
AddReg=ESSMaestro.I.UART.AddReg

[ESSMaestro.I.UART.AddReg]
HKR,,FriendlyName,,%ESSMaestro.UART.szPname%
HKR,,CLSID,,%Proxy.CLSID%

[ESSMaestro.I.FMSynth]
AddReg=ESSMaestro.I.FMSynth.AddReg

[ESSMaestro.I.FMSynth.AddReg]
HKR,,FriendlyName,,%ESSMaestro.FMSynth.szPname%
HKR,,CLSID,,%Proxy.CLSID%

[ESSMaestro.I.MSynth]
AddReg=ESSMaestro.I.MSynth.AddReg

[ESSMaestro.I.MSynth.AddReg]
HKR,,FriendlyName,,%ESSMaestro.MSynth.szPname%

[ESSSolo.I.Wave]
AddReg=ESSSolo.I.Wave.AddReg

[ESSSolo.I.Wave.AddReg]
HKR,,FriendlyName,,%ESSSolo.Wave.szPname%
HKR,,CLSID,,%Proxy.CLSID%

[ESSSolo.I.Topology]
AddReg=ESSSolo.I.Topo.AddReg

;; warning!! must be "Topo" because "Topology" is too long
[ESSSolo.I.Topo.AddReg]
HKR,,FriendlyName,,%ESSSolo.Topology.szPname%

[ESSSolo.I.UART]
AddReg=ESSSolo.I.UART.AddReg

[ESSSolo.I.UART.AddReg]
HKR,,FriendlyName,,%ESSSolo.UART.szPname%
HKR,,CLSID,,%Proxy.CLSID%

[ESSSolo.I.FMSynth]
AddReg=ESSSolo.I.FMSynth.AddReg

[ESSSolo.I.FMSynth.AddReg]
HKR,,FriendlyName,,%ESSSolo.FMSynth.szPname%
HKR,,CLSID,,%Proxy.CLSID%

[DestinationDirs]
TOSHIBA.CopyList        = 10,system32\drivers ; %SystemRoot%\system32\drivers
MAESTRO.CopyList        = 10,system32\drivers ; %SystemRoot%\system32\drivers
SOLO.CopyList           = 10,system32\drivers ; %SystemRoot%\system32\drivers

[TOSHIBA.CopyList]
ESSM2E.sys

[MAESTRO.CopyList]
maestro.sys

[SOLO.CopyList]
solo.sys

[MAESTRO.AddReg]
HKR,,AssociatedFilters,,"wdmaud,swmidi,redbook"
HKR,,Driver,,MAESTRO.SYS
HKR,,NTMPDriver,,"MAESTRO.sys,sbemul.sys"

[TOSHIBA.AddReg]
HKR,,AssociatedFilters,,"wdmaud,swmidi,redbook"
HKR,,Driver,,ESSM2E.SYS
HKR,,NTMPDriver,,"ESSM2E.sys,sbemul.sys"

[MAESTRO_COMMON.AddReg]

HKR,Drivers,SubClasses,,"wave,midi,mixer"

HKR,Drivers\wave\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\midi\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\mixer\wdmaud.drv,Driver,,wdmaud.drv

HKR,Drivers\wave\wdmaud.drv, Description,,%*ESS.DeviceDesc%
HKR,Drivers\midi\wdmaud.drv, Description,,%WDM_MIDI%
HKR,Drivers\mixer\wdmaud.drv,Description,,%*ESS.DeviceDesc%

;; GUIDs for Mixer Pin and Node names
HKLM,%MediaCategories%\%ESSGUID.20db%,Name,,%ESSNode.20db%
HKLM,%MediaCategories%\%ESSGUID.20db%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.PcBeep%,Name,,%ESSPin.PcBeep%
HKLM,%MediaCategories%\%ESSGUID.PcBeep%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.AuxA%,Name,,%ESSPin.AuxA%
HKLM,%MediaCategories%\%ESSGUID.AuxA%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.AuxB%,Name,,%ESSPin.AuxB%
HKLM,%MediaCategories%\%ESSGUID.AuxB%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.Mixer%,Name,,%ESSNode.Mixer%
HKLM,%MediaCategories%\%ESSGUID.Mixer%,Display,1,00,00,00,00

HKLM,%MediaCategories%\%GUID.ES978Play%,Name,,%String.ES978Play%
HKLM,%MediaCategories%\%GUID.ES978Play%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.ES978Rec%,Name,,%String.ES978Rec%
HKLM,%MediaCategories%\%GUID.ES978Rec%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.RemoteAC97%,Name,,%String.RemoteAC97%
HKLM,%MediaCategories%\%GUID.RemoteAC97%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.Aux%,Name,,%String.Aux%
HKLM,%MediaCategories%\%GUID.Aux%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.AuxVol%,Name,,%String.AuxVol%
HKLM,%MediaCategories%\%GUID.AuxVol%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.AuxMute%,Name,,%String.AuxMute%
HKLM,%MediaCategories%\%GUID.AuxMute%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.AuxInVol%,Name,,%String.AuxInVol%
HKLM,%MediaCategories%\%GUID.AuxInVol%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.AuxInMute%,Name,,%String.AuxInMute%
HKLM,%MediaCategories%\%GUID.AuxInMute%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.IIS%,Name,,%String.IIS%
HKLM,%MediaCategories%\%GUID.IIS%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.IISVol%,Name,,%String.IISVol%
HKLM,%MediaCategories%\%GUID.IISVol%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.IISMute%,Name,,%String.IISMute%
HKLM,%MediaCategories%\%GUID.IISMute%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.IISInVol%,Name,,%String.IISInVol%
HKLM,%MediaCategories%\%GUID.IISInVol%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.IISInMute%,Name,,%String.IISInMute%
HKLM,%MediaCategories%\%GUID.IISInMute%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.HostAudio%,Name,,%String.HostAudio%
HKLM,%MediaCategories%\%GUID.HostAudio%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.HostVol%,Name,,%String.HostVol%
HKLM,%MediaCategories%\%GUID.HostVol%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.HostMute%,Name,,%String.HostMute%
HKLM,%MediaCategories%\%GUID.HostMute%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.Mono%,Name,,%String.Mono%
HKLM,%MediaCategories%\%GUID.Mono%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.MonoVol%,Name,,%String.MonoVol%
HKLM,%MediaCategories%\%GUID.MonoVol%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.MonoMute%,Name,,%String.MonoMute%
HKLM,%MediaCategories%\%GUID.MonoMute%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.Phone%,Name,,%String.Phone%
HKLM,%MediaCategories%\%GUID.Phone%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.PhoneVol%,Name,,%String.PhoneVol%
HKLM,%MediaCategories%\%GUID.PhoneVol%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.PhoneMute%,Name,,%String.PhoneMute%
HKLM,%MediaCategories%\%GUID.PhoneMute%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.Video%,Name,,%String.Video%
HKLM,%MediaCategories%\%GUID.Video%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.VideoVol%,Name,,%String.VideoVol%
HKLM,%MediaCategories%\%GUID.VideoVol%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.VideoMute%,Name,,%String.VideoMute%
HKLM,%MediaCategories%\%GUID.VideoMute%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.Headphones%,Name,,%String.Headphones%
HKLM,%MediaCategories%\%GUID.Headphones%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.HeadphonesVol%,Name,,%String.HeadphonesVol%
HKLM,%MediaCategories%\%GUID.HeadphonesVol%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.HeadphonesMute%,Name,,%String.HeadphonesMute%
HKLM,%MediaCategories%\%GUID.HeadphonesMute%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.WaveOut%,Name,,%String.WaveOut%
HKLM,%MediaCategories%\%GUID.WaveOut%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.WaveOutVol%,Name,,%String.WaveOutVol%
HKLM,%MediaCategories%\%GUID.WaveOutVol%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.WaveOutMute%,Name,,%String.WaveOutMute%
HKLM,%MediaCategories%\%GUID.WaveOutMute%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.DockedSpeakers%,Name,,%String.DockedSpeakers%
HKLM,%MediaCategories%\%GUID.DockedSpeakers%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%GUID.EnableSPDIF%,Name,,%String.EnableSPDIF%
HKLM,%MediaCategories%\%GUID.EnableSPDIF%,Display,1,00,00,00,00

;; RunTime and BugFix support, see runtime.h
HKR,,"BugFix",01,00,00,00,00
HKR,,"RunTime",01,03,00,00,00

[MAESTRO_NEC.AddReg]
HKR,,"NECVersa",01,01,00,00,00


[M2E_TOSHIBA.AddReg]
HKR,,"ToshibaPortege",01,01,00,00,00

[MAESTRO2E.AddReg]
HKR,,"M2E",01,01,00,00,00
HKR,,"ModemInit",01,01,00,00,00

[SOLO.AddReg]
HKR,,AssociatedFilters,,"wdmaud,swmidi,redbook"
HKR,,Driver,,SOLO.SYS
HKR,,NTMPDriver,,"SOLO.sys,sbemul.sys"

HKR,Drivers,SubClasses,,"wave,midi,mixer"

HKR,Drivers\wave\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\midi\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\mixer\wdmaud.drv,Driver,,wdmaud.drv

HKR,Drivers\wave\wdmaud.drv, Description,,%*ESS.DeviceDesc%
HKR,Drivers\midi\wdmaud.drv, Description,,%WDM_MIDI%
HKR,Drivers\mixer\wdmaud.drv,Description,,%*ESS.DeviceDesc%

HKLM,%MediaCategories%\%ESSGUID.WaveOut%,Name,,%ESSPin.WaveOut%
HKLM,%MediaCategories%\%ESSGUID.WaveOut%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.Synth%,Name,,%ESSPin.Synth%
HKLM,%MediaCategories%\%ESSGUID.Synth%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.Cd%,Name,,%ESSPin.Cd%
HKLM,%MediaCategories%\%ESSGUID.Cd%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.LineIn%,Name,,%ESSPin.LineIn%
HKLM,%MediaCategories%\%ESSGUID.LineIn%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.Mic%,Name,,%ESSPin.Mic%
HKLM,%MediaCategories%\%ESSGUID.Mic%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.AuxB%,Name,,%ESSPin.AuxB%
HKLM,%MediaCategories%\%ESSGUID.AuxB%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.PCSpeaker%,Name,,%ESSPin.PCSpeaker%
HKLM,%MediaCategories%\%ESSGUID.PCSpeaker%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.3DEffect%,Name,,%ESSNode.3DEffect%
HKLM,%MediaCategories%\%ESSGUID.3DEffect%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.RecMon%,Name,,%ESSNode.RecMon%
HKLM,%MediaCategories%\%ESSGUID.RecMon%,Display,1,00,00,00,00

HKLM,%MediaCategories%\%ESSGUID.IISVolume%,Name,,%ESSNode.IISVolume%
HKLM,%MediaCategories%\%ESSGUID.IISVolume%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.IISMute%,Name,,%ESSNode.IISMute%
HKLM,%MediaCategories%\%ESSGUID.IISMute%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.IISPin%,Name,,%ESSPin.IISPin%
HKLM,%MediaCategories%\%ESSGUID.IISPin%,Display,1,00,00,00,00

HKLM,%MediaCategories%\%ESSGUID.PhoneVolume%,Name,,%ESSNode.PhoneVolume%
HKLM,%MediaCategories%\%ESSGUID.PhoneVolume%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.PhoneMute%,Name,,%ESSNode.PhoneMute%
HKLM,%MediaCategories%\%ESSGUID.PhoneMute%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.PhonePin%,Name,,%ESSPin.PhonePin%
HKLM,%MediaCategories%\%ESSGUID.PhonePin%,Display,1,00,00,00,00

;; RunTime and BugFix support, see runtime.h
HKR,,"BugFix",01,00,00,00,00
HKR,,"RunTime",01,07,00,00,00

HKR,,"MicMute",01,01,00,00,00
HKR,,"LineInMute",01,01,00,00,00

;;**************** NT Install ****************

[STUB_DEVICE.NTX86]
[STUB_DEVICE.NTX86.SERVICES]
AddService=,0x2

[MAESTRO.NTX86]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=MAESTRO.CopyList
AddReg=MAESTRO.AddReg, MAESTRO_COMMON.AddReg

[MAESTRO2E.NTX86]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=MAESTRO.CopyList
AddReg=MAESTRO.AddReg,MAESTRO_COMMON.AddReg, MAESTRO2E.AddReg

[MAESTRO_NEC.NTX86]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=MAESTRO.CopyList
AddReg=MAESTRO.AddReg,MAESTRO_COMMON.AddReg, MAESTRO_NEC.AddReg,MAESTRO2E.AddReg

[M2E_TOSHIBA.NTX86]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=TOSHIBA.CopyList
AddReg=TOSHIBA.AddReg, MAESTRO_COMMON.AddReg,M2E_TOSHIBA.AddReg,MAESTRO2E.AddReg

[MAESTRO.NTX86.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSMaestro.I.Topology
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_Topology%,ESSMaestro.I.Topology

[MAESTRO2E.NTX86.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSMaestro.I.Topology
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_Topology%,ESSMaestro.I.Topology

[MAESTRO_NEC.NTX86.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSMaestro.I.Topology
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_Topology%,ESSMaestro.I.Topology

[M2E_TOSHIBA.NTX86.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSMaestro.I.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSMaestro.I.Topology
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_Topology%,ESSMaestro.I.Topology

[MAESTRO.NTX86.Services]
AddService = maestro,   0x00000002,     maestro_Service_Inst


[MAESTRO2E.NTX86.Services]
AddService = maestro,   0x00000002,     maestro_Service_Inst


[MAESTRO_NEC.NTX86.Services]
AddService = maestro,   0x00000002,     maestro_Service_Inst


[M2E_TOSHIBA.NTX86.Services]
AddService = essm2e,   0x00000002,     essm2e_Service_Inst


[SOLO_Device.NTX86]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=SOLO.CopyList
AddReg=SOLO.AddReg

[SOLO_Device.NTX86.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSSolo.I.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSSolo.I.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSSolo.I.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSSolo.I.Topology
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_Topology%,ESSSolo.I.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,ESSSolo.I.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,ESSSolo.I.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,ESSSolo.I.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,ESSSolo.I.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,ESSSolo.I.FMSynth

[SOLO_Device.NTX86.Services]
AddService = solo,      0x00000002,     solo_Service_Inst

[essm2e_Service_Inst]
DisplayName    = %maestro.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\essm2e.sys

[maestro_Service_Inst]
DisplayName    = %maestro.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\maestro.sys

[solo_Service_Inst]
DisplayName    = %solo.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_SYSTEM_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\solo.sys



[Strings]
MSFT="Microsoft"
MFClassName="Multi-function adapters"

ESSMfgName="ESS Technology, Inc."
*ESS.DeviceDesc="ESS AudioDrive (WDM)"

ESSMaestro.Wave.szPname="ESS Maestro"
ESSMaestro.Topology.szPname="ESS Maestro"
ESSMaestro.Synth.szPname="ESS Maestro"
ESSMaestro.UART.szPname="ESS Maestro MPU-401"
ESSMaestro.FMSynth.szPname="ESS Maestro FM Synthesizer"
ESSMaestro.MSynth.szPname="Maestro DLS Synthesizer"


ESSSolo.Wave.szPname="ESS Solo"
ESSSolo.Topology.szPname="ESS Solo"
ESSSolo.Synth.szPname="ESS Solo"
ESSSolo.UART.szPname="ESS Solo MPU-401"
ESSSolo.FMSynth.szPname="ESS Solo FM Synthesizer"


Maestro1.DeviceDesc="ESS Maestro1 PCI AudioDrive (WDM)"
Maestro2.DeviceDesc="ESS Maestro2 PCI AudioDrive (WDM)"
Maestro2E.DeviceDesc="ESS Maestro2E PCI AudioDrive (WDM)"
Maestro_T.DeviceDesc="ESS Maestro PCI for Toshiba Laptop (WDM)"
MaestroSB.DeviceDesc="ESS MaestroX Sound Blaster Compatible (WDM)"
Solo1.DeviceDesc="ESS Solo1 PCI AudioDrive (WDM)"


GUID.PcBeep             ="{9DBBDD22-5CF6-11d1-88B4-00C09F002B8F}"
String.PcBeep           ="Pc Beep"
GUID.AuxA               ="{9DBBDD23-5CF6-11d1-88B4-00C09F002B8F}"
String.AuxA             ="Aux A"
GUID.AuxB               ="{9DBBDD24-5CF6-11d1-88B4-00C09F002B8F}"
String.AuxB             ="Aux B"

GUID.20db               ="{9DBBDD21-5CF6-11d1-88B4-00c09F002B8F}"
String.20db             ="+20dB Gain"
GUID.Mixer              ="{9DBBDD25-5CF6-11d1-88B4-00C09F002B8F}"
String.Mixer            ="Mixer"

GUID.ES978Play          ="{B6755560-26D8-11d2-9265-DABF9A2C015A}"
String.ES978Play        ="ES978 Playback"
GUID.ES978Rec           ="{B6755561-26D8-11d2-9265-DABF9A2C015A}"
String.ES978Rec         ="ES978 Recording"
GUID.RemoteAC97         ="{B6755562-26D8-11d2-9265-DABF9A2C015A}"
String.RemoteAC97       ="Remote AC97"
GUID.Aux                ="{B6755563-26D8-11d2-9265-DABF9A2C015A}"
String.Aux              ="Aux"
GUID.AuxVol             ="{B6755564-26D8-11d2-9265-DABF9A2C015A}"
String.AuxVol           ="Aux Volume"
GUID.AuxMute            ="{B6755565-26D8-11d2-9265-DABF9A2C015A}"
String.AuxMute          ="Aux Mute"
GUID.AuxInVol           ="{B6755566-26D8-11d2-9265-DABF9A2C015A}"
String.AuxInVol         ="Aux In Vol"
GUID.AuxInMute          ="{B6755567-26D8-11d2-9265-DABF9A2C015A}"
String.AuxInMute        ="Aux In Mute"
GUID.IIS                ="{B6755568-26D8-11d2-9265-DABF9A2C015A}"
String.IIS              ="IIS"
GUID.IISVol             ="{B6755569-26D8-11d2-9265-DABF9A2C015A}"
String.IISVol           ="IIS Volume"
GUID.IISMute            ="{B675556A-26D8-11d2-9265-DABF9A2C015A}"
String.IISMute          ="IIS Mute"
GUID.IISInVol           ="{B675556B-26D8-11d2-9265-DABF9A2C015A}"
String.IISInVol         ="IIS In Volume"
GUID.IISInMute          ="{B675556C-26D8-11d2-9265-DABF9A2C015A}"
String.IISInMute        ="IIS In Mute"
GUID.HostAudio          ="{B675556D-26D8-11d2-9265-DABF9A2C015A}"
String.HostAudio        ="Host Audio"
GUID.HostVol            ="{B675556E-26D8-11d2-9265-DABF9A2C015A}"
String.HostVol          ="Host Audio Vol"
GUID.HostMute           ="{B675556F-26D8-11d2-9265-DABF9A2C015A}"
String.HostMute         ="Host Audio Mute"
GUID.Mono               ="{B6755570-26D8-11d2-9265-DABF9A2C015A}"
String.Mono             ="Mono"
GUID.MonoVol            ="{B6755571-26D8-11d2-9265-DABF9A2C015A}"
String.MonoVol          ="Mono Volume"
GUID.MonoMute           ="{B6755572-26D8-11d2-9265-DABF9A2C015A}"
String.MonoMute         ="Mono Mute"
GUID.Phone              ="{B6755573-26D8-11d2-9265-DABF9A2C015A}"
String.Phone            ="Phone"
GUID.PhoneVol           ="{B6755574-26D8-11d2-9265-DABF9A2C015A}"
String.PhoneVol         ="Phone Volume"
GUID.PhoneMute          ="{B6755575-26D8-11d2-9265-DABF9A2C015A}"
String.PhoneMute        ="Phone Mute"
GUID.Video              ="{B6755576-26D8-11d2-9265-DABF9A2C015A}"
String.Video            ="Video"
GUID.VideoVol           ="{B6755577-26D8-11d2-9265-DABF9A2C015A}"
String.VideoVol         ="Video Volume"
GUID.VideoMute          ="{B6755578-26D8-11d2-9265-DABF9A2C015A}"
String.VideoMute        ="Video Mute"
GUID.Headphones         ="{B6755579-26D8-11d2-9265-DABF9A2C015A}"
String.Headphones       ="Headphones"
GUID.HeadphonesVol      ="{B675557A-26D8-11d2-9265-DABF9A2C015A}"
String.HeadphonesVol    ="Headphones Vol"
GUID.HeadphonesMute     ="{B675557B-26D8-11d2-9265-DABF9A2C015A}"
String.HeadphonesMute   ="Headphones Mute"
GUID.WaveOut            ="{B675557C-26D8-11d2-9265-DABF9A2C015A}"
String.WaveOut          ="Wave Out"
GUID.WaveOutVol         ="{B675557D-26D8-11d2-9265-DABF9A2C015A}"
String.WaveOutVol       ="Wave Out Vol"
GUID.WaveOutMute        ="{B675557E-26D8-11d2-9265-DABF9A2C015A}"
String.WaveOutMute      ="Wave Out Mute"
GUID.DockedSpeakers     ="{B675557F-26D8-11d2-9265-DABF9A2C015A}"
String.DockedSpeakers   ="Docked Speakers"
GUID.EnableSPDIF        ="{B6755580-26D8-11d2-9265-DABF9A2C015A}"
String.EnableSPDIF      ="Enable SPDIF"

;; ESS friendly names (non-localizeable)
ESSGUID.WaveOut   ="{D6C86C60-51D8-11d1-A482-006097C79D21}"
ESSGUID.Synth     ="{D6C86C61-51D8-11d1-A482-006097C79D21}"
ESSGUID.Cd        ="{D6C86C62-51D8-11d1-A482-006097C79D21}"
ESSGUID.LineIn    ="{D6C86C63-51D8-11d1-A482-006097C79D21}"
ESSGUID.Mic       ="{D6C86C64-51D8-11d1-A482-006097C79D21}"
ESSGUID.PCSpeaker ="{D6C86C66-51D8-11d1-A482-006097C79D21}"
ESSGUID.3DEffect  ="{D6C86C67-51D8-11d1-A482-006097C79D21}"
ESSGUID.RecMon    ="{D6C86C68-51D8-11d1-A482-006097C79D21}"
ESSGUID.20db      ="{9DBBDD21-5Cf6-11d1-88B4-00c09F002B8F}"
ESSGUID.PcBeep    ="{9DBBDD22-5Cf6-11d1-88B4-00c09F002B8F}"
ESSGUID.AuxA      ="{9DBBDD23-5Cf6-11d1-88B4-00c09F002B8F}"
ESSGUID.AuxB      ="{9DBBDD24-5Cf6-11d1-88B4-00c09F002B8F}"
ESSGUID.Mixer     ="{9DBBDD25-5Cf6-11d1-88B4-00c09F002B8F}"
ESSGUID.IISVolume ="{4AABCD47-FB00-11d1-9B43-006097C79D21}"
ESSGUID.IISMute   ="{4AABCD48-FB00-11d1-9B43-006097C79D21}"
ESSGUID.IISPin    ="{4AABCD41-FB00-11d1-9B43-006097C79D21}"
ESSGUID.PhoneVolume = "{7DCEDC62-0F43-11D2-905C-A4841B262922}"
ESSGUID.PhoneMute   = "{7DCEDC61-0F43-11D2-905C-A4841B262922}"
ESSGUID.PhonePin    = "{7DCEDC60-0F43-11D2-905C-A4841B262922}"

;; ESS friendly names (localizeable)
ESSPin.WaveOut    ="WaveOut"
ESSPin.Synth      ="Synthesizer"
ESSPin.Cd         ="CD"
ESSPin.LineIn     ="Line In"
ESSPin.Mic        ="Microphone"
ESSPin.PCSpeaker  ="PC Speaker"
ESSNode.3DEffect  ="3D Effect Enable"
ESSNode.RecMon    ="Record Monitor"
ESSNode.20db      ="+20dB Gain"
ESSPin.PcBeep     ="Pc Beep"
ESSPin.AuxA       ="Aux A"
ESSPin.AuxB       ="Aux B"
ESSNode.Mixer     ="Mixer"
ESSPin.IISPin     ="IIS"
ESSNode.IISVolume ="IIS Volume"
ESSNode.IISMute   ="IIS Mute"
ESSPin.PhonePin     ="Phone"
ESSNode.PhoneVolume ="Phone Volume"
ESSNode.PhoneMute   ="Phone Mute"

MediaCategories="SYSTEM\CurrentControlSet\Control\MediaCategories"
WDM_MIDI="WDM-based Device"

Proxy.CLSID="{17CCA71B-ECD7-11D0-B908-00A0C9223196}"
KSCATEGORY_AUDIO="{6994AD04-93EF-11D0-A3CC-00A0C9223196}"
KSCATEGORY_RENDER="{65E8773E-8F56-11D0-A3B9-00A0C9223196}"
KSCATEGORY_CAPTURE="{65E8773D-8F56-11D0-A3B9-00A0C9223196}"
KSCATEGORY_TOPOLOGY="{DDA54A40-1E4C-11D1-A050-405705C10000}"

KSNAME_Wave="Wave"
KSNAME_UART="UART"
KSNAME_MSYNTH="MaestroSynth"
KSNAME_FMSynth="FMSynth"
KSNAME_Topology="Topology"
KSNAME_Wavetable="Wavetable"


maestro.SvcDesc = "ESS Maestro Audio Driver (WDM)"
solo.SvcDesc = "ESS Solo Audio Driver (WDM)"

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
[Version]
Signature="$CHICAGO$"
Class=MEDIA
ClassGUID={4d36e96c-e325-11ce-bfc1-08002be10318}
provider=%MSFT%
LayoutFile=layout.inf, layout1.inf, layout2.inf
DriverVer =11/18/1999,5.00.2184.1

[Manufacturer]
%MfgName%=CREATIVE

;; Mechanism for excluding drivers from the "Add New Hardware" list.
[ControlFlags]

ExcludeFromSelect = *

[CREATIVE]
%ES1371.DeviceDesc%=ES1371,PCI\VEN_1274&DEV_1371&SUBSYS_13711274   ; Concert AC97 PCI board
%ES1371.DeviceDesc%=ES1371,PCI\VEN_1274&DEV_1371&SUBSYS_4f438086   ; Intel OC440LX 
%ES1371.DeviceDesc%=ES1371,PCI\VEN_1274&DEV_1371&SUBSYS_52438086   ; Intel RC440BX
%ES1371.DeviceDesc%=ES1371,PCI\VEN_1274&DEV_1371&SUBSYS_57538086   ; Intel WS440BX
%ES1371.DeviceDesc%=ES1371,PCI\VEN_1274&DEV_1371&SUBSYS_42498086   ; Intel BI440ZX
%ES1371.DeviceDesc%=ES1371,PCI\VEN_1274&DEV_1371&SUBSYS_424c8086   ; Intel BL440ZX
%ES1371.DeviceDesc%=ES1371,PCI\VEN_1274&DEV_1371&SUBSYS_425a8086   ; Intel BZ440ZX
%ES1371.DeviceDesc%=ES1371,PCI\VEN_1274&DEV_1371&SUBSYS_464a8086   ; Intel FJ440ZX
%ES1371.DeviceDesc%=ES1371,PCI\VEN_1274&DEV_1371                   ; Concert AC97 PCI board
%ES1370.DeviceDesc%=ES1370,PCI\VEN_1274&DEV_5000                   ; Concert AC97 PCI board

[STUB_DEVICE]

[ES1371]
AlsoInstall=ks.registration(ks.inf),wdmaudio.registration(wdmaudio.inf)
CopyFiles=ES1371.CopyList
AddReg=ES1371.AddReg

[ES1370]
AlsoInstall=ks.registration(ks.inf),wdmaudio.registration(wdmaudio.inf)
CopyFiles=ES1370.CopyList
AddReg=ES1370.AddReg

[ES1371.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,       W_ES1371.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,      W_ES1371.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,     W_ES1371.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,   W_ES1371.Interface.Topology
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_Topology%,W_ES1371.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,       W_ES1371.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,      W_ES1371.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,     W_ES1371.Interface.UART

[ES1370.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,       W_ES1370.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,      W_ES1370.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,     W_ES1370.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,   W_ES1370.Interface.Topology
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_Topology%,W_ES1370.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,       W_ES1370.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,      W_ES1370.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,     W_ES1370.Interface.UART

[W_ES1371.Interface.Wave]
AddReg=W_ES1371.Interface.Wave.AddReg

[W_ES1371.Interface.Wave.AddReg]
HKR,,FriendlyName,,%W_ES1371.Wave.szPname%
HKR,,CLSID,,%Proxy.CLSID%

[W_ES1370.Interface.Wave]
AddReg=W_ES1370.Interface.Wave.AddReg

[W_ES1370.Interface.Wave.AddReg]
HKR,,FriendlyName,,%W_ES1370.Wave.szPname%
HKR,,CLSID,,%Proxy.CLSID%

[W_ES1371.Interface.Topology]
AddReg=W_ES1371.Interface.Topo.AddReg

;; warning!! must be "Topo" because "Topology" is too long
[W_ES1371.Interface.Topo.AddReg]
HKR,,FriendlyName,,%W_ES1371.Topology.szPname%

[W_ES1370.Interface.Topology]
AddReg=W_ES1370.Interface.Topo.AddReg

;; warning!! must be "Topo" because "Topology" is too long
[W_ES1370.Interface.Topo.AddReg]
HKR,,FriendlyName,,%W_ES1370.Topology.szPname%

[W_ES1371.Interface.UART]
AddReg=W_ES1371.I.UART.AddReg

[W_ES1371.I.UART.AddReg]
HKR,,FriendlyName,,%W_ES1371.UART.szPname%
HKR,,CLSID,,%Proxy.CLSID%

[W_ES1370.Interface.UART]
AddReg=W_ES1370.I.UART.AddReg

[W_ES1370.I.UART.AddReg]
HKR,,FriendlyName,,%W_ES1370.UART.szPname%
HKR,,CLSID,,%Proxy.CLSID%

[ES1371.AddReg]
HKR,,AssociatedFilters,,"wdmaud,swmidi,redbook"
HKR,,Driver,,es1371mp.sys
HKR,,NTMPDriver,,"es1371mp.sys,sbemul.sys"

HKR,Drivers,SubClasses,,"wave,midi,mixer"

HKR,Drivers\wave\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\midi\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\mixer\wdmaud.drv,Driver,,wdmaud.drv

HKR,Drivers\wave\wdmaud.drv, Description,,%*ES1371.DeviceDesc%
HKR,Drivers\midi\wdmaud.drv, Description,,%*ES1371.DeviceDesc%
HKR,Drivers\mixer\wdmaud.drv,Description,,%*ES1371.DeviceDesc%

[ES1370.AddReg]
HKR,,AssociatedFilters,,"wdmaud,swmidi,redbook"
HKR,,Driver,,es1370mp.sys
HKR,,NTMPDriver,,"es1370mp.sys,sbemul.sys"

HKR,Drivers,SubClasses,,"wave,midi,mixer"

HKR,Drivers\wave\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\midi\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\mixer\wdmaud.drv,Driver,,wdmaud.drv

HKR,Drivers\wave\wdmaud.drv, Description,,%*ES1370.DeviceDesc%
HKR,Drivers\midi\wdmaud.drv, Description,,%*ES1370.DeviceDesc%
HKR,Drivers\mixer\wdmaud.drv,Description,,%*ES1370.DeviceDesc%

[DestinationDirs]
ES1371.CopyList         = 10,system32\drivers ; %SystemRoot%\system32\drivers
ES1370.CopyList         = 10,system32\drivers ; %SystemRoot%\system32\drivers

[ES1371.CopyList]
es1371mp.sys

[ES1370.CopyList]
es1370mp.sys

;;**************** NT Install ****************

[STUB_DEVICE.NTX86]
[STUB_DEVICE.NTX86.SERVICES]
AddService=,0x2

[ES1371.NTX86]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=ES1371.CopyList
AddReg=ES1371.AddReg

[ES1370.NTX86]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=ES1370.CopyList
AddReg=ES1370.AddReg

[ES1371.NTX86.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,       W_ES1371.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,      W_ES1371.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,     W_ES1371.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,   W_ES1371.Interface.Topology
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_Topology%,W_ES1371.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,       W_ES1371.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,      W_ES1371.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,     W_ES1371.Interface.UART

[ES1370.NTX86.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,       W_ES1370.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,      W_ES1370.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,     W_ES1370.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,   W_ES1370.Interface.Topology
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_Topology%,W_ES1370.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,       W_ES1370.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,      W_ES1370.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,     W_ES1370.Interface.UART

[ES1371.NTX86.Services]
AddService = es1371,  0x00000002, es1371_Service_Inst

[ES1370.NTX86.Services]
AddService = ES1370,  0x00000002, ES1370_Service_Inst

[es1371_Service_Inst]
DisplayName    = %ES1371.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\es1371mp.sys

[ES1370_Service_Inst]
DisplayName    = %ES1370.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\ES1370MP.sys





[Strings]
MSFT="Microsoft"
MfgName="Creative Technology Ltd."
ES1371.DeviceDesc="Creative AudioPCI (ES1371,ES1373) (WDM)"
*ES1371.DeviceDesc="Creative AudioPCI (ES1371,ES1373) (WDM)"
ES1370.DeviceDesc="Creative AudioPCI (ES1370), SB PCI 64/128 (WDM)"
*ES1370.DeviceDesc="Creative AudioPCI (ES1370), SB PCI 64/128 (WDM)"
W_ES1371.Wave.szPname="Creative Sound Blaster PCI"
W_ES1371.Topology.szPname="Creative Sound Blaster PCI"
W_ES1371.UART.szPname="Creative Sound Blaster PCI"
W_ES1370.Wave.szPname="Creative Sound Blaster PCI"
W_ES1370.Topology.szPname="Creative Sound Blaster PCI"
W_ES1370.UART.szPname="Creative Sound Blaster PCI"

*MS.MPU401.DeviceDesc="Microsoft MPU Audio Driver(WDM)"

MediaCategories="SYSTEM\CurrentControlSet\Control\MediaCategories"
WDM_MIDI="WDM-based Device"

Proxy.CLSID        ="{17CCA71B-ECD7-11D0-B908-00A0C9223196}"
KSCATEGORY_AUDIO   ="{6994AD04-93EF-11D0-A3CC-00A0C9223196}"
KSCATEGORY_RENDER  ="{65E8773E-8F56-11D0-A3B9-00A0C9223196}"
KSCATEGORY_CAPTURE ="{65E8773D-8F56-11D0-A3B9-00A0C9223196}"
KSCATEGORY_TOPOLOGY="{DDA54A40-1E4C-11D1-A050-405705C10000}"

KSNAME_Wave="Wave"
KSNAME_UART="UART"
KSNAME_Topology="Topology"
KSNAME_Wavetable="Wavetable"

WDM.UART.szPname="SBPCI MPU-401"

ES1371.SvcDesc = "Creative AudioPCI (ES1371,ES1373) (WDM)"
ES1370.SvcDesc = "Creative AudioPCI (ES1370), SB PCI 64/128 (WDM)"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
[Version]
Signature="$CHICAGO$"
Class=MEDIA
ClassGUID={4d36e96c-e325-11ce-bfc1-08002be10318}
provider=%MSFT%
LayoutFile=layout.inf, layout1.inf, layout2.inf
DriverVer =11/18/1999,5.00.2184.1

[Manufacturer]
%ESSMfgName%=ESS

[ESS]
; ES688
%*ESS6881.DeviceDesc%=ESS6881_Device,        *ESS6881
%*ESS6881.DeviceDesc%=ESSPNP_Device,         *ESS6880
%*ESS0100.DeviceDesc%=ESSPNP_Device,         *ESS0100
%*ESS0100.DeviceDesc%=ESSPNP_Device,         *ESS0101
%*ESS0100.DeviceDesc%=ESSPNP_Device,         *CPQA0D5

; ES1688
%*ESS1681.DeviceDesc%=ESSHD_Device,          *ESS1681
%*ESS0102.DeviceDesc%=ESSPNP_Device,         *ESS0102
%*ESS0102.DeviceDesc%=ESSPNP_Device,         *ESS0112
%*ESS0102.DeviceDesc%=ESSPNP_Device,         *ESS0968
%*ESS0102.DeviceDesc%=ESSPNP_Device,         *CPQAE26

; ES1788
%*ESS1781.DeviceDesc%=ESSHD_Device,          *ESS1781
%*ESS0104.DeviceDesc%=ESSPNP_Device,         *ESS0104
%*ESS0104.DeviceDesc%=ESSPNP_Device,         *ESS0114
%*ESS0104.DeviceDesc%=ESSPNP_Device,         *CPQAE27

; ES1868
%*ESS0000.DeviceDesc%=ESSPNP_CTRL_Device,   *ESS0000
%*ESS1868.DeviceDesc%=ESSPNP_Device,        *ESS1868

; ES1878
%*ESS0004.DeviceDesc%=ESSPNP_CTRL_Device,   *ESS0004
%*ESS1878.DeviceDesc%=ESSPNP_Device,        *ESS1878

; ES1888
%*ESS1881.DeviceDesc%=ESS1888_Device,       *ESS1881
%*ESS0106.DeviceDesc%=ESSPNP_Device,        *ESS0106
%*ESS0106.DeviceDesc%=ESSPNP_Device,        *ESS0116
%*ESS0106.DeviceDesc%=ESSCPQ_Device,        *CPQAE3E

; ES1887
%*ESS1882.DeviceDesc%=ESS1887_Device,       *ESS1882
%*ESS0107.DeviceDesc%=ESSPNP_Device,        *ESS0107
%*ESS0107.DeviceDesc%=ESSCPQ_Device,        *CPQB017
%*ESS0107.DeviceDesc%=ESSCPQ_Device,        *CPQB040

; ES1869
%*ESS0006.DeviceDesc%=ESSPNP_CTRL_Device,   *ESS0006
%*ESS1869.DeviceDesc%=ESSPNP_Device,        *ESS1869
%*ESS1869.DeviceDesc%=ESSCPQ_Device,        *CPQB023
%*ESS1869.DeviceDesc%=ESSPNP_Device,        *CPQB0AB
%*ESS1869.DeviceDesc%=ESSPNP_Device,        *CPQB0AC
%*ESS1869.DeviceDesc%=ESSPNP_Device,        *CPQB0AD
%*ESS1869.DeviceDesc%=ESSPNP_Device,        *CPQB0F1

; ES1879
%*ESS0009.DeviceDesc%=ESSPNP_CTRL_Device,   *ESS0009
%*ESS1879.DeviceDesc%=ESSPNP_Device,        *ESS1879

[STUB_DEVICE]

[ESS6881_Device]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
LogConfig=ESS6881.LC1,ESS6881.LC2
CopyFiles=ESS.CopyList
AddReg=ESS.AddReg
UpdateInis=ESS.UpdateInis

[ESS6881_Device.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSAud.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM.Interface.FMSynth

[ESSAud.Interface.Wave]
AddReg=ESSAud.Interface.Wave.AddReg
[ESSAud.Interface.Wave.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%ESSAud.Wave.szPname%

[ESSAud.Interface.Topology]
AddReg=ESSAud.Interface.Topo.AddReg
;; warning!! must be "Topo" because "Topology" is too long
[ESSAud.Interface.Topo.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%ESSAud.Topology.szPname%

[WDM.Interface.UART]
AddReg=WDM.Interface.UART.AddReg
[WDM.Interface.UART.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM.UART.szPname%

[WDM.Interface.FMSynth]
AddReg=WDM.Interface.FMSynth.AddReg
[WDM.Interface.FMSynth.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM.FMSynth.szPname%

[ESSHD_Device]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=ESS.CopyList
AddReg=ESS.AddReg
LogConfig=ESSHD.LC1,ESSHD.LC2,ESSHD.LC3,ESSHD.LC4
UpdateInis=ESS.UpdateInis

[ESSHD_Device.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSAud.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM.Interface.FMSynth

[ESS1888_Device]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=ESS.CopyList
AddReg=ESS.AddReg
LogConfig=ESS1888.LC1,ESS1888.LC2,ESS1888.LC3,ESS1888.LC4
UpdateInis=ESS.UpdateInis

[ESS1888_Device.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSAud.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM.Interface.FMSynth

[ESS1887_Device]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=ESS.CopyList
AddReg=ESS.AddReg
LogConfig=ESS1887.LC1,ESS1887.LC2,ESS1887.LC3,ESS1887.LC4
UpdateInis=ESS.UpdateInis

[ESS1887_Device.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSAud.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM.Interface.FMSynth

[ESSPNP_Device]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=ESS.CopyList
AddReg=ESS.AddReg, ESSPNP.AddReg
UpdateInis=ESS.UpdateInis

[ESSPNP_CTRL_Device]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=ESS.Copylist
AddReg=ESSPNP_CTRL.AddReg
UpdateInis=ESS.UpdateInis

[ESSPNP_Device.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSAud.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM.Interface.FMSynth

[ESSCPQ_Device]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=ESS.CopyList
AddReg=ESS.AddReg, ESSPNP.AddReg, ESSCPQ.AddReg
UpdateInis=ESS.UpdateInis

[ESSCPQ_Device.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSAud.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM.Interface.FMSynth

[DestinationDirs]
ESS.CopyList      = 10,system32\drivers ; %SystemRoot%\system32\drivers

[ESS.CopyList]
ess.sys

[ESS.AddReg]
HKR,,AssociatedFilters,,"wdmaud,swmidi,redbook"
HKR,,Driver,,ESS.SYS
HKR,,NTMPDriver,,"ESS.sys,sbemul.sys"

HKR,Drivers,SubClasses,,"wave,midi,mixer"

HKR,Drivers\wave\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\midi\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\mixer\wdmaud.drv,Driver,,wdmaud.drv

HKR,Drivers\wave\wdmaud.drv, Description,,%*ESS.DeviceDesc%
HKR,Drivers\midi\wdmaud.drv, Description,,%WDM_MIDI%
HKR,Drivers\mixer\wdmaud.drv,Description,,%*ESS.DeviceDesc%

HKLM,%MediaCategories%\%ESSGUID.WaveOut%,Name,,%ESSPin.WaveOut%
HKLM,%MediaCategories%\%ESSGUID.WaveOut%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.Synth%,Name,,%ESSPin.Synth%
HKLM,%MediaCategories%\%ESSGUID.Synth%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.Cd%,Name,,%ESSPin.Cd%
HKLM,%MediaCategories%\%ESSGUID.Cd%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.LineIn%,Name,,%ESSPin.LineIn%
HKLM,%MediaCategories%\%ESSGUID.LineIn%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.Mic%,Name,,%ESSPin.Mic%
HKLM,%MediaCategories%\%ESSGUID.Mic%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.AuxB%,Name,,%ESSPin.AuxB%
HKLM,%MediaCategories%\%ESSGUID.AuxB%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.PCSpeaker%,Name,,%ESSPin.PCSpeaker%
HKLM,%MediaCategories%\%ESSGUID.PCSpeaker%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.3DEffect%,Name,,%ESSNode.3DEffect%
HKLM,%MediaCategories%\%ESSGUID.3DEffect%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.RecMon%,Name,,%ESSNode.RecMon%
HKLM,%MediaCategories%\%ESSGUID.RecMon%,Display,1,00,00,00,00

HKLM,%MediaCategories%\%ESSGUID.IISVolume%,Name,,%ESSNode.IISVolume%
HKLM,%MediaCategories%\%ESSGUID.IISVolume%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.IISMute%,Name,,%ESSNode.IISMute%
HKLM,%MediaCategories%\%ESSGUID.IISMute%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%ESSGUID.IISPin%,Name,,%ESSPin.IISPin%
HKLM,%MediaCategories%\%ESSGUID.IISPin%,Display,1,00,00,00,00

HKR,,"TwoButtonVolumeMode",01,00,00,00,00
HKR,,"MicPreampOn",01,00,00,00,00
HKR,,"MicMute",01,01,00,00,00
HKR,,"Lineout3dEffect",01,00,00,00,00
HKR,,"WaveInRecmon",01,00,00,00,00
HKR,,"LeftWaveOutVolume",01,0F,00,00,00
HKR,,"RightWaveOutVolume",01,0F,00,00,00
HKR,,"WaveoutInMute",01,01,00,00,00

[ESSPNP.AddReg]
HKR,,"PNP",01,01,00,00,00

[ESSCPQ.AddReg]
HKR,,"HideAuxBMute",01,01,00,00,00
HKR,,"HideAuxBVolume",01,01,00,00,00
HKR,,"HideAuxBInMute",01,01,00,00,00
HKR,,"HideAuxBInVolume",01,01,00,00,00
HKR,,"AuxBMute",01,01,00,00,00
HKR,,"AuxBInMute",01,01,00,00,00
HKR,,"WaveoutInMute",01,01,00,00,00

[ESSPNP_CTRL.AddReg]
HKR,,AssociatedFilters,,"wdmaud"
HKR,,Driver,,ess.sys
HKR,,NTMPDriver,,ess.sys

[ESS6881_Device.FactDef]
ConfigPriority=NORMAL
IOConfig=220-22F
IOConfig=388-38B
IRQConfig=5
DMAConfig=1

[ESS6881_Device.NT.FactDef]
ConfigPriority=NORMAL
IOConfig=220-22F
IOConfig=388-38B
IRQConfig=5
DMAConfig=1

[ESS6881.LC1]
ConfigPriority=NORMAL
IOConfig=220-22F,230-23F,240-24F,250-25F
IOConfig=388-38B
IRQConfig=5,7,9,10
DMAConfig=0,1,3

[ESS6881.LC2]
ConfigPriority=NORMAL
IOConfig=220-22F,230-23F,240-24F,250-25F
IRQConfig=5,7,9,10
DMAConfig=0,1,3

[ESSHD_Device.FactDef]
ConfigPriority=NORMAL
IOConfig=220-22F
IOConfig=388-38B
IOConfig=330-331
IRQConfig=5
DMAConfig=1

[ESSHD_Device.NT.FactDef]
ConfigPriority=NORMAL
IOConfig=220-22F
IOConfig=388-38B
IOConfig=330-331
IRQConfig=5
DMAConfig=1

[ESSHD.LC1]
ConfigPriority=NORMAL
IOConfig=220-22F,230-23F,240-24F,250-25F
IOConfig=388-38B
IOConfig=300-301,310-311,320-321,330-331
IRQConfig=5,7,9,10
DMAConfig=0,1,3

[ESSHD.LC2]
ConfigPriority=NORMAL
IOConfig=220-22F,230-23F,240-24F,250-25F
IOConfig=388-38B
IRQConfig=5,7,9,10
DMAConfig=0,1,3

[ESSHD.LC3]
ConfigPriority=NORMAL
IOConfig=220-22F,230-23F,240-24F,250-25F
IOConfig=300-301,310-311,320-321,330-331
IRQConfig=5,7,9,10
DMAConfig=0,1,3

[ESSHD.LC4]
ConfigPriority=NORMAL
IOConfig=220-22F,230-23F,240-24F,250-25F
IRQConfig=5,7,9,10
DMAConfig=0,1,3

[ESS1888_Device.FactDef]
ConfigPriority=NORMAL
IOConfig=220-22F
IOConfig=388-38B
IOConfig=330-331
IRQConfig=5
IRQConfig=11
DMAConfig=1
DMAConfig=0

[ESS1888_Device.NT.FactDef]
ConfigPriority=NORMAL
IOConfig=220-22F
IOConfig=388-38B
IOConfig=330-331
IRQConfig=5
IRQConfig=11
DMAConfig=1
DMAConfig=0

[ESS1888.LC1]
ConfigPriority=NORMAL
IOConfig=220-22F,230-23F,240-24F,250-25F
IOConfig=388-38B
IOConfig=300-301,310-311,320-321,330-331
IRQConfig=5,7,9,10
IRQConfig=11,12,15
DMAConfig=0,1,3
DMAConfig=0,5,6

[ESS1888.LC2]
ConfigPriority=NORMAL
IOConfig=220-22F,230-23F,240-24F,250-25F
IOConfig=388-38B
IRQConfig=5,7,9,10
IRQConfig=11,12,15
DMAConfig=0,1,3
DMAConfig=0,5,6

[ESS1888.LC3]
ConfigPriority=NORMAL
IOConfig=220-22F,230-23F,240-24F,250-25F
IOConfig=300-301,310-311,320-321,330-331
IRQConfig=5,7,9,10
IRQConfig=11,12,15
DMAConfig=0,1,3
DMAConfig=0,5,6

[ESS1888.LC4]
ConfigPriority=NORMAL
IOConfig=220-22F,230-23F,240-24F,250-25F
IRQConfig=5,7,9,10
IRQConfig=11,12,15
DMAConfig=0,1,3
DMAConfig=0,5,6

[ESS1887_Device.FactDef]
ConfigPriority=NORMAL
IOConfig=201-201
IOConfig=220-22F
IOConfig=388-38B
IOConfig=330-331
IRQConfig=7
DMAConfig=1
DMAConfig=0

[ESS1887_Device.NT.FactDef]
ConfigPriority=NORMAL
IOConfig=201-201
IOConfig=220-22F
IOConfig=388-38B
IOConfig=330-331
IRQConfig=7
DMAConfig=1
DMAConfig=0

[ESS1887.LC1]
ConfigPriority=NORMAL
IOConfig=200-200,201-201,202-202,203-203
IOConfig=220-22F,230-23F,240-24F,250-25F
IOConfig=388-38B,398-39B,3A8-3AB,3B8-3BB
IOConfig=300-301,310-311,320-321,330-331
IRQConfig=5,7,9,10,11
DMAConfig=0,1,3
DMAConfig=0,1,3,5

[ESS1887.LC2]
ConfigPriority=NORMAL
IOConfig=200-200,201-201,202-202,203-203
IOConfig=220-22F,230-23F,240-24F,250-25F
IOConfig=388-38B,398-39B,3A8-3AB,3B8-3BB
IRQConfig=5,7,9,10,11
DMAConfig=0,1,3
DMAConfig=0,1,3,5

[ESS1887.LC3]
ConfigPriority=NORMAL
IOConfig=200-200,201-201,202-202,203-203
IOConfig=220-22F,230-23F,240-24F,250-25F
IOConfig=300-301,310-311,320-321,330-331
IRQConfig=5,7,9,10,11
DMAConfig=0,1,3
DMAConfig=0,1,3,5

[ESS1887.LC4]
ConfigPriority=NORMAL
IOConfig=200-200,201-201,202-202,203-203
IOConfig=220-22F,230-23F,240-24F,250-25F
IRQConfig=5,7,9,10,11
DMAConfig=0,1,3
DMAConfig=0,1,3,5

[ESS.UpdateInis]
system.ini,386Enh,"device=es688win.386"
system.ini,386Enh,"device=es488win.386"
system.ini,386Enh,"device=es1488wn.386"
system.ini,386Enh,"device=es1688wn.386"
system.ini,386Enh,"device=es1788wn.386"
system.ini,386Enh,"device=es1868wn.386"
system.ini,386Enh,"device=es1878wn.386"
system.ini,386Enh,"device=es1869wn.386"
system.ini,386Enh,"device=es1879wn.386"
system.ini,386Enh,"device=es1888wn.386"
system.ini,386Enh,"device=es1887wn.386"
system.ini,386Enh,"device=esx88win.386"
system.ini,386Enh,"device=vsbd.386"
system.ini,386Enh,"device=vsbpd.386"
system.ini,386Enh,"device=vadlib.386"
system.ini,386Enh,"device=vadlibd.386"
system.ini,386Enh,"device=vaudrv.386"

system.ini,drivers,"wave*=es488win.drv",,1
system.ini,drivers,"midi*=es488win.drv",,1
system.ini,drivers,"mixer*=es488win.drv",,1
system.ini,drivers,"aux*=es488win.drv",,1

system.ini,drivers,"wave*=es688win.drv",,1
system.ini,drivers,"midi*=es688win.drv",,1
system.ini,drivers,"mixer*=es688win.drv",,1
system.ini,drivers,"aux*=es688win.drv",,1

system.ini,drivers,"wave*=es1488wn.drv",,1
system.ini,drivers,"midi*=es1488wn.drv",,1
system.ini,drivers,"mixer*=es1488wn.drv",,1
system.ini,drivers,"aux*=es1488wn.drv",,1

system.ini,drivers,"wave*=es1688wn.drv",,1
system.ini,drivers,"midi*=es1688wn.drv",,1
system.ini,drivers,"mixer*=es1688wn.drv",,1
system.ini,drivers,"aux*=es1688wn.drv",,1

system.ini,drivers,"wave*=es1788wn.drv",,1
system.ini,drivers,"midi*=es1788wn.drv",,1
system.ini,drivers,"mixer*=es1788wn.drv",,1
system.ini,drivers,"aux*=es1788wn.drv",,1

system.ini,drivers,"wave*=es1868wn.drv",,1
system.ini,drivers,"midi*=es1868wn.drv",,1
system.ini,drivers,"mixer*=es1868wn.drv",,1
system.ini,drivers,"aux*=es1868wn.drv",,1

system.ini,drivers,"wave*=es1878wn.drv",,1
system.ini,drivers,"midi*=es1878wn.drv",,1
system.ini,drivers,"mixer*=es1878wn.drv",,1
system.ini,drivers,"aux*=es1878wn.drv",,1

system.ini,drivers,"wave*=es1869wn.drv",,1
system.ini,drivers,"midi*=es1869wn.drv",,1
system.ini,drivers,"mixer*=es1869wn.drv",,1
system.ini,drivers,"aux*=es1869wn.drv",,1

system.ini,drivers,"wave*=es1879wn.drv",,1
system.ini,drivers,"midi*=es1879wn.drv",,1
system.ini,drivers,"mixer*=es1879wn.drv",,1
system.ini,drivers,"aux*=es1879wn.drv",,1

system.ini,drivers,"wave*=es1888wn.drv",,1
system.ini,drivers,"midi*=es1888wn.drv",,1
system.ini,drivers,"mixer*=es1888wn.drv",,1
system.ini,drivers,"aux*=es1888wn.drv",,1

system.ini,drivers,"wave*=es1887wn.drv",,1
system.ini,drivers,"midi*=es1887wn.drv",,1
system.ini,drivers,"mixer*=es1887wn.drv",,1
system.ini,drivers,"aux*=es1887wn.drv",,1

system.ini,drivers,"wave*=auddrive.drv",,1
system.ini,drivers,"midi*=auddrive.drv",,1
system.ini,drivers,"mixer*=auddrive.drv",,1
system.ini,drivers,"aux*=auddrive.drv",,1

system.ini,drivers,"midi*=audmpu.drv",,1
system.ini,drivers,"midi*=audmpio.drv",,1

win.ini,windows,load,essdaemn.exe,,


;;**************** NT Install ****************

[STUB_DEVICE.NT]
[STUB_DEVICE.NT.SERVICES]
AddService=,0x2

[ESS6881_Device.NT]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
LogConfig=ESS6881.LC1,ESS6881.LC2
CopyFiles=ESS.CopyList
AddReg=ESS.AddReg

[ESS6881_Device.NT.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSAud.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM.Interface.FMSynth

[ESS6881_Device.NT.Services]
AddService = ess,     0x00000002, ess_Service_Inst

[ESSHD_Device.NT]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=ESS.CopyList
AddReg=ESS.AddReg
LogConfig=ESSHD.LC1,ESSHD.LC2,ESSHD.LC3,ESSHD.LC4

[ESSHD_Device.NT.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSAud.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM.Interface.FMSynth

[ESSHD_Device.NT.Services]
AddService = ess,     0x00000002, ess_Service_Inst

[ESS1888_Device.NT]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=ESS.CopyList
AddReg=ESS.AddReg
LogConfig=ESS1888.LC1,ESS1888.LC2,ESS1888.LC3,ESS1888.LC4

[ESS1888_Device.NT.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSAud.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM.Interface.FMSynth

[ESS1888_Device.NT.Services]
AddService = ess,     0x00000002, ess_Service_Inst

[ESS1887_Device.NT]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=ESS.CopyList
AddReg=ESS.AddReg
LogConfig=ESS1887.LC1,ESS1887.LC2,ESS1887.LC3,ESS1887.LC4

[ESS1887_Device.NT.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSAud.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM.Interface.FMSynth

[ESS1887_Device.NT.Services]
AddService = ess,     0x00000002, ess_Service_Inst

[ESSPNP_Device.NT]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=ESS.CopyList
AddReg=ESS.AddReg, ESSPNP.AddReg

[ESSPNP_CTRL_Device.NT]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=ESS.Copylist
AddReg=ESSPNP_CTRL.AddReg

[ESSPNP_Device.NT.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSAud.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM.Interface.FMSynth

[ESSPNP_Device.NT.Services]
AddService = ess,     0x00000002, ess_Service_Inst

[ESSPNP_CTRL_Device.NT.Services]
AddService = ess,     0x00000002, ess_Service_Inst

[ESSCPQ_Device.NT]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=ESS.CopyList
AddReg=ESS.AddReg, ESSPNP.AddReg, ESSCPQ.AddReg

[ESSCPQ_Device.NT.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,ESSAud.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,ESSAud.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM.Interface.FMSynth

[ESSCPQ_Device.NT.Services]
AddService = ess,     0x00000002, ess_Service_Inst

[ess_Service_Inst]
DisplayName    = %ess.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\ess.sys


[Strings]
MSFT="Microsoft"
ESSMfgName="ESS Technology, Inc."
*ESS6881.DeviceDesc="ES688 AudioDrive (WDM)"
*ESS1681.DeviceDesc="ES1688 AudioDrive (WDM)"
*ESS1781.DeviceDesc="ES1788 AudioDrive (WDM)"
*ESS1881.DeviceDesc="ES1888 AudioDrive (WDM)"
*ESS1882.DeviceDesc="ES1887 AudioDrive (WDM)"
*ESS0006.DeviceDesc="ES1869 Control Interface (WDM)"
*ESS1869.DeviceDesc="ES1869 Plug and Play AudioDrive (WDM)"
*ESS0000.DeviceDesc="ES1868 Control Interface (WDM)"
*ESS1868.DeviceDesc="ES1868 Plug and Play AudioDrive (WDM)"
*ESS0004.DeviceDesc="ES1878 Control Interface (WDM)"
*ESS1878.DeviceDesc="ES1878 Plug and Play AudioDrive (WDM)"
*ESS0100.DeviceDesc="ES688 Plug and Play AudioDrive (WDM)"
*ESS0102.DeviceDesc="ES1688 Plug and Play AudioDrive (WDM)"
*ESS0104.DeviceDesc="ES1788 Plug and Play AudioDrive (WDM)"
*ESS0106.DeviceDesc="ES1888 Plug and Play AudioDrive (WDM)"
*ESS0107.DeviceDesc="ES1887 Plug and Play AudioDrive (WDM)"
*ESS0009.DeviceDesc="ES1879 Control Interface (WDM)"
*ESS1879.DeviceDesc="ES1879 Plug and Play AudioDrive (WDM)"
*ESS.DeviceDesc="ESS AudioDrive (WDM)"
ESSAud.Wave.szPname="ESS AudioDrive"
ESSAud.Topology.szPname="ESS AudioDrive"
;; ESS friendly names (non-localizeable)
ESSGUID.WaveOut   ="{D6C86C60-51D8-11d1-A482-006097C79D21}"
ESSGUID.Synth     ="{D6C86C61-51D8-11d1-A482-006097C79D21}"
ESSGUID.Cd        ="{D6C86C62-51D8-11d1-A482-006097C79D21}"
ESSGUID.LineIn    ="{D6C86C63-51D8-11d1-A482-006097C79D21}"
ESSGUID.Mic       ="{D6C86C64-51D8-11d1-A482-006097C79D21}"
ESSGUID.AuxB      ="{D6C86C65-51D8-11d1-A482-006097C79D21}"
ESSGUID.PCSpeaker ="{D6C86C66-51D8-11d1-A482-006097C79D21}"
ESSGUID.3DEffect  ="{D6C86C67-51D8-11d1-A482-006097C79D21}"
ESSGUID.RecMon    ="{D6C86C68-51D8-11d1-A482-006097C79D21}"
ESSGUID.IISVolume ="{4AABCD47-FB00-11d1-9B43-006097C79D21}"
ESSGUID.IISMute   ="{4AABCD48-FB00-11d1-9B43-006097C79D21}"
ESSGUID.IISPin    ="{4AABCD41-FB00-11d1-9B43-006097C79D21}"
;; ESS friendly names (localizeable)
ESSPin.WaveOut    ="WaveOut"
ESSPin.Synth      ="Synthesizer"
ESSPin.Cd         ="CD"
ESSPin.LineIn     ="Line In"
ESSPin.Mic        ="Microphone"
ESSPin.AuxB       ="AuxB"
ESSPin.PCSpeaker  ="PC Speaker"
ESSNode.3DEffect  ="3D Effect Enable"
ESSNode.RecMon    ="Record Monitor"
ESSPin.IISPin     ="IIS"
ESSNode.IISVolume ="IIS Volume"
ESSNode.IISMute   ="IIS Mute"

MediaCategories="SYSTEM\CurrentControlSet\Control\MediaCategories"
WDM_MIDI="WDM-based Device"

Proxy.CLSID="{17CCA71B-ECD7-11D0-B908-00A0C9223196}"
KSCATEGORY_AUDIO="{6994AD04-93EF-11D0-A3CC-00A0C9223196}"
KSCATEGORY_RENDER="{65E8773E-8F56-11D0-A3B9-00A0C9223196}"
KSCATEGORY_CAPTURE="{65E8773D-8F56-11D0-A3B9-00A0C9223196}"
KSNAME_Wave="Wave"
KSNAME_UART="UART"
KSNAME_FMSynth="FMSynth"
KSNAME_Topology="Topology"
KSNAME_Wavetable="Wavetable"

WDM.UART.szPname="ESS MPU-401"
WDM.FMSynth.szPname="ESS FM Synthesizer"

ess.SvcDesc = "ESS Audio Driver (WDM)"

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 


[Version]
Signature="$CHICAGO$"
Class=MEDIA
ClassGUID={4d36e96c-e325-11ce-bfc1-08002be10318}
Provider=%MSFT%
LayoutFile=layout.inf, layout1.inf, layout2.inf
DriverVer =11/18/1999,5.00.2184.1

[Manufacturer]
%NMGCMfgName%=NM5Audio


;; Excluding drivers from the "Add New Hardware" list.
[ControlFlags]

ExcludeFromSelect = *


;;---------------------------------------------------------------;
;;
;; D E V I C E  C A L L O U T  S E C T I O N
;;

[NM5Audio]
%*WDM_NM5.DeviceDesc%=WDM_NM5, PCI\VEN_10C8&DEV_8005
%*WDM_NM5A2.DeviceDesc%=WDM_NM5A2, *NMX2210

;;---------------------------------------------------------------;
;;
;; D I R E C T O R Y  S E C T I O N
;;
[DestinationDirs]
NM5Audio.CopyList   = 10,system32\drivers ; %SystemRoot%\system32\drivers

[PreCopySection]
HKR,,NoSetupUI,,1

;;---------------------------------------------------------------;
;;
;; D R I V E R  C A L L O U T  S E C T I O N
;;

[WDM_NM5]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=NM5Audio.CopyList
AddReg=WDM_NM5.AddReg, WDM_NM5A2_GUID.AddReg

[WDM_NM5A2]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=NM5Audio.CopyList
AddReg=WDM_NM5A2.AddReg, WDM_NM5.AddReg, WDM_NM5A2_GUID.AddReg

[WDM_NM5.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,WDM_NM5.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,WDM_NM5.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,WDM_NM5.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,WDM_NM5.Interface.Topology

[WDM_NM5A2.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM_NM5.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM_NM5.Interface.FMSynth
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM_NM5.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM_NM5.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM_NM5.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,WDM_NM5.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,WDM_NM5.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,WDM_NM5.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,WDM_NM5.Interface.Topology

[WDM_NM5.Interface.Wave]
AddReg=WDM_NM5.Interface.Wave.AddReg
[WDM_NM5.Interface.Wave.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM_NM5.Wave.szPname%

[WDM_NM5.Interface.Topology]
AddReg=WDM_NM5.Interface.Topo.AddReg
[WDM_NM5.Interface.Topo.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM_NM5A2.Topology.szPname%

[WDM_NM5.Interface.FMSynth]
AddReg=WDM_NM5.Interface.FM.AddReg
[WDM_NM5.Interface.FM.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM_NM5A2.FMSynth.szPname%

[WDM_NM5.Interface.UART]
AddReg=WDM_NM5.Interface.UART.AddReg
[WDM_NM5.Interface.UART.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM_NM5A2.UART.szPname%

;;---------------------------------------------------------------;
;;
;; U P D A T E  R E G I S T R Y  S E C T I O N
;;

[WDM_NM5.AddReg]
HKR,,AssociatedFilters,,"wdmaud,swmidi,redbook"
HKR,,Driver,,NM5A2WDM.SYS
HKR,,NTMPDriver,,"NM5A2WDM.sys"

HKR,Drivers,SubClasses,,"wave,midi,mixer"

HKR,Drivers\wave\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\midi\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\mixer\wdmaud.drv,Driver,,wdmaud.drv
HKR,Drivers\aux\wdmaud.drv,Driver,,wdmaud.drv

HKR,Drivers\wave\wdmaud.drv, Description,,%*WDM_NM5.DeviceDesc%
HKR,Drivers\midi\wdmaud.drv, Description,,%WDM_SWSYNTH%
HKR,Drivers\mixer\wdmaud.drv,Description,,%*WDM_NM5A2.DeviceDesc%
HKR,Drivers\aux\wdmaud.drv,Description,,%*WDM_NM5A2.DeviceDesc%

HKLM,Software\NeoMagic\Drivers,AudioMemSize,1,00,B0,01,00
HKLM,Software\NeoMagic\Drivers,AudioMCMemSize,1,00,90,00,00

[WDM_NM5A2.AddReg]
HKR,,AssociatedFilters,,"wdmaud"
HKR,,Driver,,NM5A2WDM.SYS
HKR,,NTMPDriver,,"NM5A2WDM.sys"

HKR,Drivers,SubClasses,,"midi"

HKR,Drivers\midi\wdmaud.drv, Driver,,wdmaud.drv

HKR,Drivers\midi\wdmaud.drv, Description,,%WDM_FM%


[WDM_NM5A2_GUID.AddReg]
HKLM,%MediaCategories%\%NM5GUID.Pcbeep%,Name,,%NM5Pin.Pcbeep%
HKLM,%MediaCategories%\%NM5GUID.Pcbeep%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.Phone%,Name,,%NM5Pin.Phone%
HKLM,%MediaCategories%\%NM5GUID.Phone%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.Mic1%,Name,,%NM5Pin.Mic1%
HKLM,%MediaCategories%\%NM5GUID.Mic1%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.Mic2%,Name,,%NM5Pin.Mic2%
HKLM,%MediaCategories%\%NM5GUID.Mic2%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.LineIn%,Name,,%NM5Pin.LineIn%
HKLM,%MediaCategories%\%NM5GUID.LineIn%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.CdPlayer%,Name,,%NM5Pin.CdPlayer%
HKLM,%MediaCategories%\%NM5GUID.CdPlayer%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.Video%,Name,,%NM5Pin.Video%
HKLM,%MediaCategories%\%NM5GUID.Video%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.Aux%,Name,,%NM5Pin.Aux%
HKLM,%MediaCategories%\%NM5GUID.Aux%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.LineOut%,Name,,%NM5Pin.LineOut%
HKLM,%MediaCategories%\%NM5GUID.LineOut%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.ZVPort%,Name,,%NM5Pin.ZVPort%
HKLM,%MediaCategories%\%NM5GUID.ZVPort%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.3DWide%,Name,,%NM5Pin.3DWide%
HKLM,%MediaCategories%\%NM5GUID.3DWide%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.FMSynth%,Name,,%NM5Pin.FMSynth%
HKLM,%MediaCategories%\%NM5GUID.FMSynth%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.I2S%,Name,,%NM5Pin.I2S%
HKLM,%MediaCategories%\%NM5GUID.I2S%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.20dbGain%,Name,,%NM5Pin.20dbGain%
HKLM,%MediaCategories%\%NM5GUID.20dbGain%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.DockPhone%,Name,,%NM5Pin.DockPhone%
HKLM,%MediaCategories%\%NM5GUID.DockPhone%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.DockMic1%,Name,,%NM5Pin.DockMic1%
HKLM,%MediaCategories%\%NM5GUID.DockMic1%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.DockMic2%,Name,,%NM5Pin.DockMic2%
HKLM,%MediaCategories%\%NM5GUID.DockMic2%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.DockLineIn%,Name,,%NM5Pin.DockLineIn%
HKLM,%MediaCategories%\%NM5GUID.DockLineIn%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.DockCdPlayer%,Name,,%NM5Pin.DockCdPlayer%
HKLM,%MediaCategories%\%NM5GUID.DockCdPlayer%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.DockVideo%,Name,,%NM5Pin.DockVideo%
HKLM,%MediaCategories%\%NM5GUID.DockVideo%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.DockAux%,Name,,%NM5Pin.DockAux%
HKLM,%MediaCategories%\%NM5GUID.DockAux%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM5GUID.DockSpeaker%,Name,,%NM5Pin.DockSpeaker%
HKLM,%MediaCategories%\%NM5GUID.DockSpeaker%,Display,1,00,00,00,00
;;---------------------------------------------------------------;
;;
;; F I L E  C O P Y  S E C T I O N
;;

[NM5Audio.CopyList]
nm5a2wdm.sys

;;**************** NT Install ****************

[WDM_NM5.NTX86]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=NM5Audio.CopyList
AddReg=WDM_NM5.AddReg, WDM_NM5A2_GUID.AddReg

[WDM_NM5A2.NTX86]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=NM5Audio.CopyList
AddReg=WDM_NM5A2.AddReg, WDM_NM5.AddReg, WDM_NM5A2_GUID.AddReg

[WDM_NM5.NTX86.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,WDM_NM5.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,WDM_NM5.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,WDM_NM5.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,WDM_NM5.Interface.Topology

[WDM_NM5A2.NTX86.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM_NM5.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM_NM5.Interface.FMSynth
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM_NM5.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM_NM5.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM_NM5.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,WDM_NM5.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,WDM_NM5.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,WDM_NM5.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,WDM_NM5.Interface.Topology


[WDM_NM5.NTX86.Services]
AddService = wdm_nm5,    0x00000002, wdm_nm5_Service_Inst

[WDM_NM5A2.NTX86.Services]
AddService = wdm_nm5,    0x00000002, wdm_nm5_Service_Inst

[wdm_nm5_Service_Inst]
DisplayName    = %wdm_nm5.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\nm5a2wdm.sys

;;---------------------------------------------------------------;
;;
;; S T R I N G S
;;

[Strings]
MSFT="Microsoft"
NMGCMfgName="NeoMagic Corporation"
*WDM_NM5.DeviceDesc="NeoMagic MagicMedia 256AV Audio Driver (WDM)"
*WDM_NM5A2.DeviceDesc="NeoMagic MagicMedia 256AV NMA2 Codec (WDM)"
WDM_NM5.Wave.szPname="NeoMagic Audio (WDM)"
WDM_NM5A2.Topology.szPname="NeoMagic Mixer (WDM)"
WDM_NM5A2.FMSynth.szPname="NeoMagic FMSynth (WDM)"
WDM_NM5A2.UART.szPname="NeoMagic MPU401 (WDM)"

;; NM5 friendly names (non-localizeable)
NM5GUID.Pcbeep        = "{BDC05F40-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.Phone	      = "{BDC05F41-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.Mic1          = "{BDC05F42-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.Mic2          = "{BDC05F43-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.LineIn        = "{BDC05F44-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.CdPlayer      = "{BDC05F45-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.Video         = "{BDC05F46-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.Aux           = "{BDC05F47-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.LineOut       = "{BDC05F48-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.ZVPort	      = "{BDC05F4B-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.3DWide	      = "{BDC05F4C-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.FMSynth 	  = "{BDC05F4D-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.I2S     	  = "{BDC05F4E-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.20dbGain	  = "{BDC05F4F-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.DockSpeaker	  = "{BDC05F50-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.DockPhone	  = "{BDC05F51-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.DockMic1      = "{BDC05F52-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.DockMic2      = "{BDC05F53-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.DockLineIn    = "{BDC05F54-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.DockCdPlayer  = "{BDC05F55-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.DockVideo     = "{BDC05F56-C4B3-11D1-84AF-00A024947B4F}"
NM5GUID.DockAux       = "{BDC05F57-C4B3-11D1-84AF-00A024947B4F}"
;; NM5 friendly names (localizeable)
NM5Pin.Pcbeep         = "PCBeep"
NM5Pin.Phone          = "Phone"
NM5Pin.Mic1           = "Microphone"
NM5Pin.Mic2           = "Mic2"
NM5Pin.LineIn         = "Line In"
NM5Pin.CdPlayer       = "CD Audio"
NM5Pin.Video          = "Video In"
NM5Pin.Aux            = "Aux In"
NM5Pin.LineOut        = "Master Volume"
NM5Pin.ZVPort         = "ZV Audio"
NM5Pin.3DWide         = "3D Wide"
NM5Pin.FMSynth        = "FM Synth"
NM5Pin.I2S            = "ZV Audio"
NM5Pin.20dbGain       = "Enable 20dB Gain"
NM5Pin.DockSpeaker    = "Enable Docking Speaker"
NM5Pin.DockPhone      = "Dock Phone"
NM5Pin.DockMic1       = "Dock Mic"
NM5Pin.DockMic2       = "Dock Mic2"
NM5Pin.DockLineIn     = "Dock Line"
NM5Pin.DockCdPlayer   = "Dock CD Audio"
NM5Pin.DockVideo      = "Dock Video"
NM5Pin.DockAux        = "Dock Aux"

MediaCategories="SYSTEM\CurrentControlSet\Control\MediaCategories"
WDM_SWSYNTH="Microsoft SWSynth (WDM)"
WDM_FM="NeoMagic FMSynth (WDM)"

Proxy.CLSID="{17CCA71B-ECD7-11D0-B908-00A0C9223196}"
KSCATEGORY_AUDIO="{6994AD04-93EF-11D0-A3CC-00A0C9223196}"
KSCATEGORY_RENDER="{65E8773E-8F56-11D0-A3B9-00A0C9223196}"
KSCATEGORY_CAPTURE="{65E8773D-8F56-11D0-A3B9-00A0C9223196}"
KSNAME_Wave="Wave"
KSNAME_Topology="Topology"
KSNAME_FMSynth="FMSynth"
KSNAME_UART="Uart"

wdm_nm5.SvcDesc = "NeoMagic MagicMedia 256AV Audio Driver (WDM)"


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          

[Version]
Signature="$CHICAGO$"
Class=MEDIA
ClassGUID={4d36e96c-e325-11ce-bfc1-08002be10318}
provider=%MSFT%
LayoutFile=layout.inf, layout1.inf, layout2.inf
DriverVer =11/18/1999,5.00.2184.1

[Manufacturer]
%NMGCMfgName%=NM6Audio

;; Excluding drivers from the "Add New Hardware" list.
[ControlFlags]

ExcludeFromSelect = *


;;---------------------------------------------------------------;
;;
;; D E V I C E  C A L L O U T  S E C T I O N
;;

[NM6Audio]
%*WDM_NM6.DeviceDesc%=WDM_NM6, PCI\VEN_10C8&DEV_8006
%*WDM_NM6.DeviceDesc%=WDM_NM6, PCI\VEN_10C8&DEV_8016

;;---------------------------------------------------------------;
;;
;; D I R E C T O R Y  S E C T I O N
;;
[DestinationDirs]
NM6Audio.CopyList   = 10,system32\drivers ; %SystemRoot%\system32\drivers

[PreCopySection]
HKR,,NoSetupUI,,1

;;---------------------------------------------------------------;
;;
;; D R I V E R  C A L L O U T  S E C T I O N
;;

[WDM_NM6]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=NM6Audio.CopyList
AddReg=WDM_NM6.AddReg, WDM_NM6_GUID.AddReg

[WDM_NM6.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,WDM_NM6.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,WDM_NM6.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,WDM_NM6.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,WDM_NM6.Interface.Topology

[WDM_NM6.Interface.Wave]
AddReg=WDM_NM6.Interface.Wave.AddReg
[WDM_NM6.Interface.Wave.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM_NM6.Wave.szPname%

[WDM_NM6.Interface.Topology]
AddReg=WDM_NM6.Interface.Topo.AddReg
[WDM_NM6.Interface.Topo.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM_NM6.Topology.szPname%

;;---------------------------------------------------------------;
;;
;; U P D A T E  R E G I S T R Y  S E C T I O N
;;
[WDM_NM6.AddReg]
HKR,,AssociatedFilters,,"wdmaud,swmidi,redbook"
HKR,,Driver,,NM6WDM.SYS
HKR,,NTMPDriver,,"NM6WDM.sys,sbemul.sys"

HKR,Drivers,SubClasses,,"wave,midi,mixer"

HKR,Drivers\wave\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\midi\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\mixer\wdmaud.drv,Driver,,wdmaud.drv
HKR,Drivers\aux\wdmaud.drv,Driver,,wdmaud.drv

HKR,Drivers\wave\wdmaud.drv, Description,,%*WDM_NM6.DeviceDesc%
HKR,Drivers\midi\wdmaud.drv, Description,,%WDM_SWSYNTH%
HKR,Drivers\mixer\wdmaud.drv,Description,,%*WDM_NM6.DeviceDesc%
HKR,Drivers\aux\wdmaud.drv,Description,,%*WDM_NM6.DeviceDesc%

[WDM_NM6_GUID.AddReg]
HKLM,%MediaCategories%\%NM6GUID.Pcbeep%,Name,,%NM6Pin.Pcbeep%
HKLM,%MediaCategories%\%NM6GUID.Pcbeep%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM6GUID.Phone%,Name,,%NM6Pin.Phone%
HKLM,%MediaCategories%\%NM6GUID.Phone%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM6GUID.Mic1%,Name,,%NM6Pin.Mic1%
HKLM,%MediaCategories%\%NM6GUID.Mic1%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM6GUID.Mic2%,Name,,%NM6Pin.Mic2%
HKLM,%MediaCategories%\%NM6GUID.Mic2%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM6GUID.LineIn%,Name,,%NM6Pin.LineIn%
HKLM,%MediaCategories%\%NM6GUID.LineIn%,Display,1,00,00,00,00
;HKLM,%MediaCategories%\%NM6GUID.CdPlayer%,Name,,%NM6Pin.CdPlayer%
;HKLM,%MediaCategories%\%NM6GUID.CdPlayer%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM6GUID.Video%,Name,,%NM6Pin.Video%
HKLM,%MediaCategories%\%NM6GUID.Video%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM6GUID.Aux%,Name,,%NM6Pin.Aux%
HKLM,%MediaCategories%\%NM6GUID.Aux%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM6GUID.LineOut%,Name,,%NM6Pin.LineOut%
HKLM,%MediaCategories%\%NM6GUID.LineOut%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM6GUID.HPOut%,Name,,%NM6Pin.HPOut%
HKLM,%MediaCategories%\%NM6GUID.HPOut%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM6GUID.MonoOut%,Name,,%NM6Pin.MonoOut%
HKLM,%MediaCategories%\%NM6GUID.MonoOut%,Display,1,00,00,00,00

HKLM,%MediaCategories%\%NM6GUID.I2S%,Name,,%NM6Pin.I2S%
HKLM,%MediaCategories%\%NM6GUID.I2S%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM6GUID.SPDIF%,Name,,%NM6Pin.SPDIF%
HKLM,%MediaCategories%\%NM6GUID.SPDIF%,Display,1,00,00,00,00

HKLM,%MediaCategories%\%NM6GUID.DockMic%,Name,,%NM6Pin.DockMic%
HKLM,%MediaCategories%\%NM6GUID.DockMic%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM6GUID.DockLine%,Name,,%NM6Pin.DockLine%
HKLM,%MediaCategories%\%NM6GUID.DockLine%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM6GUID.DockCD%,Name,,%NM6Pin.DockCD%
HKLM,%MediaCategories%\%NM6GUID.DockCD%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%NM6GUID.DockAux%,Name,,%NM6Pin.DockAux%
HKLM,%MediaCategories%\%NM6GUID.DockAux%,Display,1,00,00,00,00

HKLM,%MediaCategories%\%NM6GUID.UseDKSPKER%,Name,,%NM6Node.UseDKSPKER%
HKLM,%MediaCategories%\%NM6GUID.UseDKSPKER%,Display,1,00,00,00,00

[NM6Audio.CopyList]
nm6wdm.sys

;;**************** NT Install ****************

[WDM_NM6.NTX86]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=NM6Audio.CopyList
AddReg=WDM_NM6.AddReg, WDM_NM6_GUID.AddReg

[WDM_NM6.NTX86.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,WDM_NM6.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,WDM_NM6.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,WDM_NM6.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,WDM_NM6.Interface.Topology

[WDM_NM6.NTX86.Services]
AddService = wdm_nm6,    0x00000002, wdm_nm6_Service_Inst

[wdm_nm6_Service_Inst]
DisplayName    = %wdm_nm6.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\nm6wdm.sys

;;---------------------------------------------------------------;
;;
;; S T R I N G S
;;

[Strings]
MSFT="Microsoft"
NMGCMfgName="NeoMagic Corporation"
*WDM_NM6.DeviceDesc="NeoMagic MagicMedia 256 + AC97 Driver (WDM)"
WDM_NM6.Wave.szPname="NeoMagic Audio (WDM)"
WDM_NM6.Topology.szPname="NeoMagic Mixer (WDM)"
;; NM6 friendly names (non-localizeable)
NM6GUID.Pcbeep    = "{BDC05F40-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.Phone     = "{BDC05F41-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.Mic1      = "{BDC05F42-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.Mic2      = "{BDC05F43-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.LineIn    = "{BDC05F44-A91A-11D1-84AF-00A024947B4F}"
;NM6GUID.CdPlayer  = "{BDC05F45-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.Video     = "{BDC05F45-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.Aux       = "{BDC05F46-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.LineOut   = "{BDC05F47-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.HPOut     = "{BDC05F48-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.MonoOut   = "{BDC05F49-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.I2S       = "{BDC05F4A-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.SPDIF     = "{BDC05F4B-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.DockMic   = "{BDC05F4C-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.DockLine  = "{BDC05F4D-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.DockCD    = "{BDC05F4E-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.DockAux   = "{BDC05F4F-A91A-11D1-84AF-00A024947B4F}"
NM6GUID.UseDKSPKER= "{BDC05F50-A91A-11D1-84AF-00A024947B4F}"
;; NM6 friendly names (localizeable)
NM6Pin.Pcbeep     = "PCBeep"
NM6Pin.Phone      = "Phone"
NM6Pin.Mic1       = "Microphone"
NM6Pin.Mic2       = "Mic2"
NM6Pin.LineIn     = "Line In"
;NM6Pin.CdPlayer   = "CD Audio"
NM6Pin.Video      = "Video In"
NM6Pin.Aux        = "ZV Audio"
NM6Pin.LineOut    = "Master Volume"
NM6Pin.HPOut      = "Line Out"
NM6Pin.MonoOut    = "Mono Out"
NM6Pin.I2S        = "I2S"
NM6Pin.SPDIF      = "SPDIF"

NM6Pin.DockMic    = "Dock Mic"
NM6Pin.DockLine   = "Dock Line"
NM6Pin.DockCD     = "Dock CD"
NM6Pin.DockAux    = "Dock Aux"
NM6Node.UseDKSPKER= "Enable Dock Speaker"

MediaCategories="SYSTEM\CurrentControlSet\Control\MediaCategories"
WDM_SWSYNTH="Microsoft SWSynth (WDM)"

Proxy.CLSID="{17CCA71B-ECD7-11D0-B908-00A0C9223196}"
KSCATEGORY_AUDIO="{6994AD04-93EF-11D0-A3CC-00A0C9223196}"
KSCATEGORY_RENDER="{65E8773E-8F56-11D0-A3B9-00A0C9223196}"
KSCATEGORY_CAPTURE="{65E8773D-8F56-11D0-A3B9-00A0C9223196}"
KSNAME_Wave="Wave"
KSNAME_Topology="Topology"

wdm_nm6.SvcDesc = "NeoMagic MagicMedia 256 + AC97 Driver (WDM)"

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                

[Version]
Signature="$CHICAGO$"
Class=MEDIA
ClassGUID={4d36e96c-e325-11ce-bfc1-08002be10318}
provider=%MSFT%
LayoutFile=layout.inf, layout1.inf, layout2.inf
DriverVer =11/18/1999,5.00.2184.1

[Manufacturer]
%MfgName%=Microsoft
%Altec.Mfg%=Altec.Section
%Telex.Mfg%=Telex.Section
%Dallas.Mfg%=Dallas.Section
%Philips.Mfg%=Philips.Section
%Yamaha.Mfg%=Yamaha.Section
%LabTec.Mfg%=LabTec.Section
%Microsoft.Mfg%=Microsoft.Section
%NEC.Mfg%=NEC.Section

;============================================================================
[ControlFlags]
ExcludeFromSelect = *

[Microsoft]
%USB\CLASS_01.DeviceDesc%=USBAudio, USB\CLASS_01

[Microsoft.Section]
%USB\VID_045E&PID_0014&MI_00.DeviceDesc%=USBAudio,USB\VID_045E&PID_0014&MI_00

[Altec.Section]
%USB\VID_04D2&PID_FF47&MI_00.DeviceDesc%=USBAudio,USB\VID_04D2&PID_FF47&MI_00
%USB\VID_04D2&PID_FF49&MI_00.DeviceDesc%=USBAudio,USB\VID_04D2&PID_FF49&MI_00
%USB\VID_04D2&PID_0070&MI_00.DeviceDesc%=USBAudio,USB\VID_04D2&PID_0070&MI_00

[Telex.Section]
%USB\VID_0562&PID_0000&MI_00.DeviceDesc%=USBMic,  USB\VID_0562&PID_0000&MI_00
%USB\VID_0562&PID_0001&MI_00.DeviceDesc%=USBMic,  USB\VID_0562&PID_0001&MI_00
%USB\VID_0562&PID_0002&MI_00.DeviceDesc%=USBMic,  USB\VID_0562&PID_0002&MI_00

[Dallas.Section]
%USB\VID_04FA&PID_4201&MI_00.DeviceDesc%=USBAudio,USB\VID_04FA&PID_4201&MI_00

[Philips.Section]
%USB\VID_0471&PID_0101&MI_00.DeviceDesc%=USBAudio,USB\VID_0471&PID_0101&MI_00
%USB\VID_0471&PID_0302&MI_01.DeviceDesc%=USBMic,  USB\VID_0471&PID_0302&MI_01
%USB\VID_0471&PID_0303&MI_01.DeviceDesc%=USBMic,  USB\VID_0471&PID_0303&MI_01

[Yamaha.Section]
%USB\VID_0499&PID_1001&MI_00.DeviceDesc%=USBAudio.NoCurve,USB\VID_0499&PID_1001&MI_00
%USB\VID_0499&PID_3001&MI_00.DeviceDesc%=USBAudio,USB\VID_0499&PID_3001&MI_00

[LabTec.Section]
%USB\VID_0672&PID_1041&MI_00.DeviceDesc%=USBAudio.NoCurve,USB\VID_0672&PID_1041&MI_00

[NEC.Section]
%USB\VID_0409&PID_0203&MI_00.DeviceDesc%=USBAudio,USB\VID_0409&PID_0203&MI_00

[DestinationDirs]
USBAudio.CopyList     = 10,system32\drivers ; %SystemRoot%\system32\drivers

;============================================================================

[USBAudio]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=USBAudio.CopyList
AddReg=USBAudio.AddReg
KnownFiles = USBAudio.KnownFiles

[USBAudio.NoCurve]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=USBAudio.CopyList
AddReg=USBAudio.AddReg
KnownFiles = USBAudio.KnownFiles

[USBMic]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=USBAudio.CopyList
AddReg=USBMic.AddReg
KnownFiles = USBAudio.KnownFiles

;============================================================================

[USBAudio.Interfaces]
AddInterface={6994ad04-93ef-11d0-a3cc-00a0c9223196},"GLOBAL",USBAudio.Interface.Curve,

[USBAudio.Interface.Curve]
AddReg=USBAudio.Interface.Addreg.Curve

[USBAudio.Interface.AddReg.Curve]
HKR,,CurveType,1,01,00,00,00

;============================================================================

[USBAudio.AddReg]
;; Usb audio specific registry update sutff
HKR,,SetupPreferredAudioDevices,3,01,00,00,00
HKR,,AssociatedFilters,,"wdmaud,swmidi,redbook"
HKR,,Driver,,USBAUDIO.sys
HKR,,NTMPDriver,,"USBAUDIO.sys,sbemul.sys"

HKR,,CLSID,,%Proxy.CLSID%

HKR,Drivers,SubClasses,,"wave,midi,mixer,aux"

HKR,Drivers\wave\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\midi\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\mixer\wdmaud.drv,Driver,,wdmaud.drv
HKR,Drivers\aux\wdmaud.drv,Driver,,wdmaud.drv

HKR,Drivers\wave\wdmaud.drv,Description,,%USBGenericDesc%
HKR,Drivers\midi\wdmaud.drv,Description,,%WDM_MIDI%
HKR,Drivers\mixer\wdmaud.drv,Description,,%USBGenericDesc%
HKR,Drivers\aux\wdmaud.drv,Description,,%USBGenericDesc%

HKLM,%MediaCategories%\%USBGUID.BassBoost%,Name,,%USBNode.BassBoost%
HKLM,%MediaCategories%\%USBGUID.BassBoost%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%USBGUID.StereoExtend%,Name,,%USBNode.StereoExtend%
HKLM,%MediaCategories%\%USBGUID.StereoExtend%,Display,1,00,00,00,00

[USBMic.AddReg]
HKR,,AssociatedFilters,,"wdmaud"
HKR,,Driver,,USBAUDIO.sys
HKR,,NTMPDriver,,"USBAUDIO.sys"

HKR,,CLSID,,%Proxy.CLSID%

HKR,Drivers,SubClasses,,"wave,mixer"

HKR,Drivers\wave\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\mixer\wdmaud.drv,Driver,,wdmaud.drv

HKR,Drivers\wave\wdmaud.drv,Description,,%USBGenericDesc%
HKR,Drivers\mixer\wdmaud.drv,Description,,%USBGenericDesc%

;; Ignore serial number on Telex Boom mic because it is not unique
HKLM,%USBFlags%,IgnoreHWSerNum05620002,1,01

;============================================================================

;; Copy to system32\drivers
[USBAudio.CopyList]
USBAUDIO.sys

[USBAudio.KnownFiles]
usbaudio.sys.4.10.0 = safe

;;**************** NT Install ****************

[USBAudio.NT]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=USBAudio.CopyList
AddReg=USBAudio.AddReg

[USBAudio.NoCurve.NT]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=USBAudio.CopyList
AddReg=USBAudio.AddReg

[USBMic.NT]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=USBAudio.CopyList
AddReg=USBMic.AddReg

[USBAudio.NT.Interfaces]
AddInterface={6994ad04-93ef-11d0-a3cc-00a0c9223196},"GLOBAL",USBAudio.Interface.Curve,

[USBAudio.NT.Services]
AddService = usbaudio,0x00000002, usbaudio_Service_Inst

[USBAudio.NoCurve.NT.Services]
AddService = usbaudio,0x00000002, usbaudio_Service_Inst

[USBMic.NT.Services]
AddService = usbaudio,0x00000002, usbaudio_Service_Inst

[usbaudio_Service_Inst]
DisplayName    = %USBAudio.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\usbaudio.sys

;============================================================================



[Strings]
MSFT="Microsoft"
MfgName="(Generic USB Audio)"

USB\CLASS_01.DeviceDesc="USB Audio Device"
USBGenericDesc="USB Audio Device"

WDM_MIDI="WDM MIDI Device"

Microsoft.Mfg="Microsoft"
USB\VID_045E&PID_0014&MI_00.DeviceDesc="Microsoft Digital Sound System 80"

Altec.Mfg="Altec Lansing"
USB\VID_04D2&PID_FF47&MI_00.DeviceDesc="Altec USB Audio"
USB\VID_04D2&PID_FF49&MI_00.DeviceDesc="Altec USB Audio"
USB\VID_04D2&PID_0070&MI_00.DeviceDesc="Altec USB Audio"

Telex.Mfg="Telex"
USB\VID_0562&PID_0000&MI_00.DeviceDesc="Telex USB Microphone"
USB\VID_0562&PID_0001&MI_00.DeviceDesc="Telex USB Microphone"
USB\VID_0562&PID_0002&MI_00.DeviceDesc="Telex USB Microphone"

Dallas.Mfg="Dallas Semiconductor"
USB\VID_04FA&PID_4201&MI_00.DeviceDesc="Generic USB Audio Device"

Philips.Mfg="Philips"
USB\VID_0471&PID_0101&MI_00.DeviceDesc="Philips USB Audio"
USB\VID_0471&PID_0302&MI_01.DeviceDesc="Philips USB Camera Microphone"
USB\VID_0471&PID_0303&MI_01.DeviceDesc="Philips USB Camera Microphone"

LabTec.Mfg="Labtec"
USB\VID_0672&PID_1041&MI_00.DeviceDesc="Labtec USB Audio"

Nokia.Mfg="Nokia"
USB\VID_04A6&PID_00B9&MI_00.DeviceDesc="Nokia USB Audio"

Yamaha.Mfg="Yamaha"
USB\VID_0499&PID_1001&MI_00.DeviceDesc="Yamaha USB Audio"
USB\VID_0499&PID_3001&MI_00.DeviceDesc="Yamaha USB Audio"

NEC.Mfg="NEC"
USB\VID_0409&PID_0203&MI_00.DeviceDesc="NEC USB Audio"

MediaCategories="SYSTEM\CurrentControlSet\Control\MediaCategories"
USBFlags="SYSTEM\CurrentControlSet\Control\UsbFlags"

;; USB Friendly Names (Non-localized>
USBGUID.BassBoost    = "{1A71EBE0-959E-11D1-B448-00A0C9255AC1}"
USBGUID.StereoExtend = "{FD4F0300-9632-11D1-B448-00A0C9255AC1}"

;; USB Friendly Names (localized>
USBNode.BassBoost    = "Bass Boost"
USBNode.StereoExtend = "Stereo Extender"

USBAudio.SvcDesc="USB Audio Driver (WDM)"

Proxy.CLSID = "{17CCA71B-ECD7-11D0-B908-00A0C9223196}"


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
[Version]
Signature="$CHICAGO$"
Class=MEDIA
ClassGuid={4D36E96C-E325-11CE-BFC1-08002BE10318}
Provider=%MSFT%
LayoutFile=layout.inf, layout1.inf, layout2.inf
DriverVer =11/18/1999,5.00.2184.1

[Manufacturer]
%MfgMsft%=Microsoft

;;-----------------------------------------------------------------------------
;; Devices by mfg
[Microsoft]
%*PNPB007.DeviceDesc%=foghorn,*PNPB007

;;-----------------------------------------------------------------------------
;; Device install sections
[foghorn]
include=ks.inf,WDMAUDIO.inf
needs=KS.Registration,WDMAUDIO.Registration
CopyFiles=foghorn.CopyFiles
AddReg=foghorn.AddReg
LogConfig=foghorn.LC1,foghorn.LC2,foghorn.LC3,foghorn.LC4,foghorn.LC5,foghorn.LC6

;;-----------------------------------------------------------------------------
;; General AddReg
[foghorn.AddReg]
HKR,,AssociatedFilters,,"wdmaud,swmidi,redbook"
HKR,,Driver,,foghorn.sys
HKR,,NTMPDriver,,"foghorn.sys,sbemul.sys"

HKR,Drivers,SubClasses,,"wave,midi,mixer"

HKR,Drivers\wave\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\midi\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\mixer\wdmaud.drv,Driver,,wdmaud.drv

HKR,Drivers\wave\wdmaud.drv, Description,,%*PNPB007.DeviceDesc%
HKR,Drivers\midi\wdmaud.drv, Description,,%WDM_MIDI%
HKR,Drivers\mixer\wdmaud.drv,Description,,%*PNPB007.DeviceDesc%

;;-----------------------------------------------------------------------------
;; General CopyFiles
[DestinationDirs]
foghorn.CopyFiles = 10,system32\drivers ; %SystemRoot%\system32\drivers

[foghorn.CopyFiles]
foghorn.sys


;;-----------------------------------------------------------------------------
;; Interface installs
[foghorn.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,  %KSNAME_Wave%,     foghorn.Interface
AddInterface=%KSCATEGORY_RENDER%, %KSNAME_Wave%,     foghorn.Interface
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,     foghorn.Interface
AddInterface=%KSCATEGORY_AUDIO%,  %KSNAME_Topology%, foghorn.Interface
AddInterface=%KSCATEGORY_AUDIO%,  %KSNAME_FMSynth%,  foghorn.Interface
AddInterface=%KSCATEGORY_RENDER%, %KSNAME_FMSynth%,  foghorn.Interface

[foghorn.Interface]
AddReg=foghorn.Interface.AddReg

[foghorn.Interface.AddReg]
HKR,,FriendlyName,,%*PNPB007.DeviceDesc%
HKR,,CLSID,,%Proxy.CLSID%

;;-----------------------------------------------------------------------------
;; Hardware configs
[foghorn.FactDef]
ConfigPriority=NORMAL
IOConfig=530-537
IOConfig=388-38B
IRQConfig=10
DMAConfig=1
DMAConfig=0

[foghorn.NT.FactDef]
ConfigPriority=NORMAL
IOConfig=530-537
IOConfig=388-38B
IRQConfig=10
DMAConfig=1
DMAConfig=0

[foghorn.LC1]
ConfigPriority=NORMAL
IOConfig=530-537,604-60B,E80-E87,F40-F47
IRQConfig=7,9,10,11
DMAConfig=0,1,3
DMAConfig=0,1,3

[foghorn.LC2]
ConfigPriority=NORMAL
IOConfig=530-537,604-60B,E80-E87,F40-F47
IRQConfig=7,9,10,11
DMAConfig=0,1,3

[foghorn.LC3]
ConfigPriority=NORMAL
IOConfig=530-537,604-60B,E80-E87,F40-F47
IOConfig=388-38B
IRQConfig=7,9,10,11
DMAConfig=0,1,3
DMAConfig=0,1,3

[foghorn.LC4]
ConfigPriority=NORMAL
IOConfig=530-537,604-60B,E80-E87,F40-F47
IOConfig=388-38B
IRQConfig=7,9,10,11
DMAConfig=0,1,3

[foghorn.LC5]
ConfigPriority=HARDRECONFIG
IOConfig=534-537,608-60B,E84-E87,F44-F47
IRQConfig=7,9,10,11
DMAConfig=0,1,3

[foghorn.LC6]
ConfigPriority=HARDRECONFIG
IOConfig=534-537,608-60B,E84-E87,F44-F47
IOConfig=388-38B
IRQConfig=7,9,10,11
DMAConfig=0,1,3

;-----------------------------------------------------------------------------
;;**************** NT Install ****************

[foghorn.NT]
include=ks.inf,WDMAUDIO.inf
needs=KS.Registration,WDMAUDIO.Registration
CopyFiles=foghorn.CopyFiles
AddReg=foghorn.AddReg
LogConfig=foghorn.LC1,foghorn.LC2,foghorn.LC3,foghorn.LC4,foghorn.LC5,foghorn.LC6

[foghorn.NT.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,   %KSNAME_Wave%,     foghorn.Interface
AddInterface=%KSCATEGORY_CAPTURE%, %KSNAME_Wave%,     foghorn.Interface
AddInterface=%KSCATEGORY_RENDER%,  %KSNAME_Wave%,     foghorn.Interface
AddInterface=%KSCATEGORY_AUDIO%,   %KSNAME_Topology%, foghorn.Interface
AddInterface=%KSCATEGORY_AUDIO%,   %KSNAME_FMSynth%,  foghorn.Interface
AddInterface=%KSCATEGORY_RENDER%,  %KSNAME_FMSynth%,  foghorn.Interface

[foghorn.NT.Services]
AddService = foghorn,     0x00000002, foghorn.ServiceInstall

[foghorn.ServiceInstall]
DisplayName    = %*PNPB007.DeviceDesc%
ServiceType    = %SERVICE_KERNEL_DRIVER%
StartType      = %SERVICE_DEMAND_START%
ErrorControl   = %SERVICE_ERROR_NORMAL%
ServiceBinary  = %10%\system32\drivers\foghorn.sys

[Strings]
; non-localizeable

Proxy.CLSID=        "{17CCA71B-ECD7-11D0-B908-00A0C9223196}"
KSCATEGORY_RENDER=  "{65E8773E-8F56-11D0-A3B9-00A0C9223196}"
KSCATEGORY_CAPTURE= "{65E8773D-8F56-11D0-A3B9-00A0C9223196}"
KSCATEGORY_AUDIO=   "{6994AD04-93EF-11D0-A3CC-00A0C9223196}"

KSNAME_Wave     = "Wave"
KSNAME_Topology = "Topology"
KSNAME_FMSynth  = "FMSynth"

SERVICE_KERNEL_DRIVER = 1
SERVICE_SYSTEM_START  = 1
SERVICE_DEMAND_START  = 3
SERVICE_ERROR_NORMAL  = 1

;
;localizeable
;
Msft="Microsoft"
MfgMsft="Microsoft"
*PNPB007.DeviceDesc="Windows Sound System Compatible (WDM)"
WDM_MIDI="WDM-based MIDI Device"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

[Version]
Signature="$CHICAGO$"
Class=MEDIA
ClassGUID={4d36e96c-e325-11ce-bfc1-08002be10318}
provider=%MSFT%
LayoutFile=layout.inf, layout1.inf, layout2.inf
DriverVer =11/18/1999,5.00.2184.1

[Manufacturer]
%YamahaMfg%=Yamaha

;; Excluding drivers from the "Add New Hardware" list.
[ControlFlags]

ExcludeFromSelect = *


[Yamaha]
%*WDM_DS1Legacy.DeviceDesc%=WDM_Le, *YMH0100
%*WDM_DS1Native.DeviceDesc%=WDM_Na, PCI\VEN_1073&DEV_0004
%*WDM_DS1Native.DeviceDesc%=WDM_Na, PCI\VEN_1073&DEV_0005
%*WDM_DS1Native.DeviceDesc%=WDM_Na, PCI\VEN_1073&DEV_0006
%*WDM_DS1Native.DeviceDesc%=WDM_Na, PCI\VEN_1073&DEV_0008
%*WDM_DS1Native.DeviceDesc%=WDM_Na, PCI\VEN_1073&DEV_000A
%*WDM_DS1Native.DeviceDesc%=WDM_Na, PCI\VEN_1073&DEV_000C
%*WDM_DS1Native.DeviceDesc%=WDM_Na, PCI\VEN_1073&DEV_000D
%*WDM_DS1Native.DeviceDesc%=WDM_Na, PCI\VEN_1073&DEV_0010
%*WDM_DS1Native.DeviceDesc%=WDM_Na, PCI\VEN_1073&DEV_0020
%*PNPB02F.DeviceDesc%=MSJSTICK, *YMH0101


[DestinationDirs]
WDM_Na.CopyList = 10,system32\drivers ; %SystemRoot%\system32\drivers
WDM_Le.CopyList = 10,system32\drivers ; %SystemRoot%\system32\drivers
MSJSTICK.CopyList      = 11          ; LDID_SYS
GAMEPORT.CopyList	   = 11;
GAMEENUM.CopyList	   = 10,system32\drivers ;	%SystemRoot%\system32\drivers

;;--------------------------------------------------------------------------
;;            MS Joystick
;;--------------------------------------------------------------------------
[MSJSTICK]
LogConfig=BasicJoyStick.LC0,BasicJoystick.LC1
CopyFiles=MSJSTICK.CopyList, GAMEPORT.CopyList
AddReg=JOYSTICK.AddReg, MSJSTICK.AddReg
UpdateInis=MSJSTICK.UpdateInis
KnownFiles=MSJSTICK.KnownFiles

[BasicJoyStick.LC0]
ConfigPriority=HARDWIRED
IOConfig=201-201(3ff::)

[BasicJoyStick.LC1]
ConfigPriority=HARDWIRED
IOConfig=200-207(3ff::)

[MSJSTICK.CopyList]
vjoyd.vxd,,
msjstick.drv,,

[MSJSTICK.KnownFiles]
essjoy.vxd.4.3.0=force
essjoy.drv.4.3.0=force

[GAMEPORT.CopyList]
msanalog.vxd,,

[JOYSTICK.AddReg]
HKR,,DevLoader,,mmdevldr.vxd
HKR,Drivers,MIGRATED,,0
HKR,Drivers\joystick,,,

[MSJSTICK.AddReg]
HKR,,Driver,,vjoyd.vxd
HKR,Drivers\joystick\msjstick.drv,Description,,%*PNPB02F.DeviceDesc%
HKR,Drivers\joystick\msjstick.drv,Driver,,msjstick.drv
HKR,Drivers,SubClasses,,"joystick"

[MSJSTICK.UpdateInis]
system.ini,drivers,"joystick="

;;--------------------------------------------------------------------------
;;            Native DS1
;;--------------------------------------------------------------------------

[WDM_Na]
AlsoInstall=KS.Registration(ks.inf), WDMAUDIO.Registration(wdmaudio.inf)
CopyFiles=WDM_Na.CopyList
AddReg=WDM_Na.AddReg,WDM_DS1GUID.AddReg,WDM_DS1CUSTOM.AddReg

[WDM_Na.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wav1%,YmhAud.Interface.Wav1
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wav1%,YmhAud.Interface.Wav1
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wav1%,YmhAud.Interface.Wav1
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_AC97%,YmhAud.Interface.AC97
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_AC97%,YmhAud.Interface.AC97
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_DMUS%,YmhAud.Interface.DMus
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_DMUS%,YmhAud.Interface.DMus
AddInterface=%KSCATEGORY_SYNTHESIZER%,%KSNAME_DMUS%,YmhAud.Interface.DMus

[YmhAud.Interface.Wav1]
AddReg=YmhAud.Interface.Wav1.AddReg

[YmhAud.Interface.Wav1.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%YmhAud.Wav1.szPname%

[YmhAud.Interface.AC97]
AddReg=YmhAud.Interface.AC97.AddReg

[YmhAud.Interface.AC97.AddReg]
HKR,,FriendlyName,,%YmhAud.AC97.szPname%

[YmhAud.Interface.DMus]
AddReg=YmhAud.Interface.DMus.AddReg

[YmhAud.Interface.DMus.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%YmhAud.DMus.szPname%


[WDM_Na.AddReg]
HKR,,AssociatedFilters,,"wdmaud,swmidi,redbook"
HKR,,Driver,,ds1wdm.sys
HKR,,NTMPDriver,,"ds1wdm.sys,sbemul.sys"

HKR,Drivers,SubClasses,,"wave,midi,mixer"

HKR,Drivers\wave\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\midi\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\mixer\wdmaud.drv,Driver,,wdmaud.drv

HKR,Drivers\wave\wdmaud.drv,Description,,%*WDM_DS1Native.DeviceDesc%
HKR,Drivers\midi\wdmaud.drv,Description,,%*WDM_DMUSIC.DeviceDesc%
HKR,Drivers\mixer\wdmaud.drv,Description,,%*WDM_DS1Native.DeviceDesc%

[WDM_DS1GUID.AddReg]
;;DS1 Friendly Names
HKLM,%MediaCategories%\%DS1GUID.Mic1%,Name,,%DS1Pin.Mic1%
HKLM,%MediaCategories%\%DS1GUID.Mic1%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%DS1GUID.LineIn%,Name,,%DS1Pin.LineIn%
HKLM,%MediaCategories%\%DS1GUID.LineIn%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%DS1GUID.CD%,Name,,%DS1Pin.CD%
HKLM,%MediaCategories%\%DS1GUID.CD%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%DS1GUID.Video%,Name,,%DS1Pin.Video%
HKLM,%MediaCategories%\%DS1GUID.Video%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%DS1GUID.Aux%,Name,,%DS1Pin.Aux%
HKLM,%MediaCategories%\%DS1GUID.Aux%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%DS1GUID.Phone%,Name,,%DS1Pin.Phone%
HKLM,%MediaCategories%\%DS1GUID.Phone%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%DS1GUID.PCBeep%,Name,,%DS1Pin.PCBeep%
HKLM,%MediaCategories%\%DS1GUID.PCBeep%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%DS1GUID.Master%,Name,,%DS1Pin.Master%
HKLM,%MediaCategories%\%DS1GUID.Master%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%DS1GUID.Mono%,Name,,%DS1Pin.Mono%
HKLM,%MediaCategories%\%DS1GUID.Mono%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%DS1GUID.AGC%,Name,,%DS1Pin.AGC%
HKLM,%MediaCategories%\%DS1GUID.AGC%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%DS1GUID.FM%,Name,,%DS1Pin.FM%
HKLM,%MediaCategories%\%DS1GUID.FM%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%DS1GUID.SMIX%,Name,,%DS1Pin.SMIX%
HKLM,%MediaCategories%\%DS1GUID.SMIX%,Display,1,00,00,00,00


[WDM_DS1CUSTOM.AddReg]
HKLM,%CustomizeYamaha%,MaxModVoices,  1,38,00,00,00
HKLM,%CustomizeYamaha%,MaxWodVoices,  1,04,00,00,00
HKLM,%CustomizeYamaha%,EnableControls,1,01,01,00,00,00,00,00,00,00,00, 01,00,00,00,00,00,00,00,00,00, 00,00,00,00,00,01,01,01,01,01, 01,01,01,01,01,01,01,01,01,00, 00,00,01,01,00,01,01,00,01,00, 01,00,01,00,01,00,01,00,01,00, 00,00,00,00,00,00,00,00,00,00, 00,00,00,00,00,00,00,00,00,00, 00,01,01,01,01 
HKLM,%CustomizeYamaha%,VolumeMax,	  1,96,00,00,00,00,00,00,00,00,00, 00,00,00,00,00,00,00,00,00,00, 00,00,00,00,00,96,00,A2,00,A2, 00,A2,00,A2,00,A2,00,A2,00,A2, 00,00,96,00,00,00,AC,00,AC,00, AC,00,AC,00,AC,00,AC,00,AC,00, 00,00,00,00,00,00,00,00,00,00, 00,00,00,00,00,00,00,00,00,00, 00,96,00,96,00
HKLM,%CustomizeYamaha%,VolumeMin,	  1,67,00,00,00,00,00,00,00,00,00, 00,00,00,00,00,00,00,00,00,00, 00,00,00,00,00,69,00,73,00,73, 00,73,00,73,00,73,00,73,00,73, 00,00,7A,00,00,00,96,00,96,00, 96,00,96,00,96,00,96,00,96,00, 00,00,00,00,00,00,00,00,00,00, 00,00,00,00,00,00,00,00,00,00, 00,67,00,7E,00
HKLM,%CustomizeYamaha%,ControlsDef,   1,90,00,00,00,00,00,00,00,00,00, 01,00,00,00,00,00,00,00,00,00, 00,00,00,00,00,90,00,9C,00,9C, 01,9C,01,9C,00,9C,00,9C,00,9C, 00,00,88,00,00,00,A1,00,A1,00, A1,00,A1,00,A1,00,A1,00,A1,00, 00,00,00,00,00,00,00,00,00,00, 00,00,00,00,00,00,00,00,00,00, 00,90,00,8A,00

[WDM_DIRECTMUSIC.AddReg]
HKLM,%YamahaDMusicPort%,DefaultOutputPort,0,"{93701B63-79C6-11d2-AFC5-00AA005104EC}"


[WDM_Na.CopyList]
ds1wdm.sys

;;--------------------------------------------------------------------------
;;            Legacy DS1
;;--------------------------------------------------------------------------
[WDM_Le]
AlsoInstall=KS.Registration(ks.inf), WDMAUDIO.Registration(wdmaudio.inf)
CopyFiles=WDM_Le.CopyList
AddReg=WDM_Le.AddReg

[WDM_Le.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSyn2%,WDM.Interface.FMSyn2
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSyn2%,WDM.Interface.FMSyn2

[WDM.Interface.FMSyn2]
AddReg=WDM.Interface.FMSyn2.AddReg

[WDM.Interface.FMSyn2.AddReg]
HKR,,FriendlyName,,%WDM.FMSyn2.szPname%
HKR,,CLSID,,%Proxy.CLSID%

[WDM.Interface.UART]
AddReg=WDM.Interface.UART.AddReg

[WDM.Interface.UART.AddReg]
HKR,,FriendlyName,,%WDM.UART.szPname%
HKR,,CLSID,,%Proxy.CLSID%

[WDM_Le.AddReg]
HKR,,AssociatedFilters,,"wdmaud,swmidi,redbook"
HKR,,Driver,,ds1wdm.sys
HKR,,NTMPDriver,,"ds1wdm.sys,sbemul.sys"

HKR,Drivers,SubClasses,,"wave,midi,mixer"

HKR,Drivers\wave\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\midi\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\mixer\wdmaud.drv,Driver,,wdmaud.drv

HKR,Drivers\wave\wdmaud.drv,Description,,%*WDM_DS1Legacy.DeviceDesc%
HKR,Drivers\midi\wdmaud.drv,Description,,%WDM_MIDI%
HKR,Drivers\mixer\wdmaud.drv,Description,,%*WDM_DS1Legacy.DeviceDesc%

[WDM_Le.CopyList]
ds1wdm.sys

;;**************** NT Install ****************
;;--------------------------------------------------
;;       JoyStick (Standrad)
;;--------------------------------------------------
[MSJSTICK.NTX86]
CopyFiles=GAMEENUM.CopyList

[MSJSTICK.NTX86.Services]
AddService = gameenum,%SPSVCINST_ASSOCSERVICE%,GamePort_Service_Inst

[GAMEENUM.CopyList]
gameenum.sys

[GamePort_Service_Inst]
DisplayName    = %gameport.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\gameenum.sys
LoadOrderGroup = Extended Base

;;--------------------------------------------------------
;;                  Native
;;--------------------------------------------------------
[WDM_Na.NTX86]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration
CopyFiles=WDM_Na.CopyList
AddReg=WDM_Na.AddReg,WDM_DS1GUID.AddReg,WDM_DS1CUSTOM.AddReg,WDM_DIRECTMUSIC.AddReg


[WDM_Na.NTX86.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wav1%,YmhAud.Interface.Wav1
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wav1%,YmhAud.Interface.Wav1
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wav1%,YmhAud.Interface.Wav1
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_AC97%,YmhAud.Interface.AC97
AddInterface=%KSCATEGORY_TOPOLOGY%,%KSNAME_AC97%,YmhAud.Interface.AC97
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_DMUS%,YmhAud.Interface.DMus
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_DMUS%,YmhAud.Interface.DMus
AddInterface=%KSCATEGORY_SYNTHESIZER%,%KSNAME_DMUS%,YmhAud.Interface.DMus

[WDM_Na.NTX86.Services]
AddService = ds1, 0x00000002, ds1_Service_Inst

;;-------------------------------------------------------------------------
;;          Legacy
;;-------------------------------------------------------------------------

[WDM_Le.NTX86]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration,WDMAUDIO.Registration
CopyFiles=WDM_Le.CopyList
AddReg=WDM_Le.AddReg



[WDM_Le.NTX86.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSyn2%,WDM.Interface.FMSyn2
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSyn2%,WDM.Interface.FMSyn2

[WDM_Le.NTX86.Services]
AddService = ds1, 0x00000002, ds1_Service_Inst

[ds1_Service_Inst]
DisplayName    = %wdm_DS1Native.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\ds1wdm.sys

[Strings]

YMH="Yamaha "
YamahaMfg="Yamaha"
MSFT="Microsoft"

*WDM_DS1Legacy.DeviceDesc="YAMAHA Legacy DS1 WDM Driver"
*WDM_DS1Native.DeviceDesc="YAMAHA Native DS1 WDM Driver"
*WDM_DMUSIC.DeviceDesc="Yamaha Direct Music(WDM)"
*PNPB02F.DeviceDesc="Game port for Yamaha DS1"

;;----------------------------------------
;; Native Part
;;-----------------------------------------
YmhAud.Wav1.szPname="Yamaha PCI Audio (DS1x Native)"
YmhAud.AC97.szPname="AC97 Topo"
YmhAud.DMus.szPname="Yamaha DMusic"

;;----------------------------------------
;; Legacy Part
;;-----------------------------------------
WDM.FMSyn2.szPname="Yamaha PCI FM Synthesizer"
WDM.UART.szPname="Yamaha PCI External MIDI"

;;Friendly Name (Non Localised)
DS1GUID.Mic1	="{48F3FC01-BDB3-11d1-BDBA-00AA00374674}"
DS1GUID.LineIn	="{48F3FC03-BDB3-11d1-BDBA-00AA00374674}"
DS1GUID.CD      ="{48F3FC04-BDB3-11d1-BDBA-00AA00374674}"
DS1GUID.Video	="{48F3FC05-BDB3-11d1-BDBA-00AA00374674}"
DS1GUID.Aux		="{48F3FC06-BDB3-11d1-BDBA-00AA00374674}"
DS1GUID.Phone	="{48F3FC07-BDB3-11d1-BDBA-00AA00374674}"
DS1GUID.PCBeep	="{48F3FC08-BDB3-11d1-BDBA-00AA00374674}"
DS1GUID.Master	="{48F3FC09-BDB3-11d1-BDBA-00AA00374674}"
DS1GUID.Mono	="{48F3FC0A-BDB3-11d1-BDBA-00AA00374674}"
DS1GUID.AGC		="{AA6FBBA1-BE52-11d1-BDBA-00AA00374674}"
DS1GUID.FM		="{8F89D0C2-C495-11d1-981C-006008034FD1}"
DS1GUID.SMIX 	="{9FE6E641-E99A-11d1-8A41-00A0C9776188}"

;;Friendly Name (Localised)
DS1Pin.Mic1		="Microphone"
DS1Pin.LineIn	="Line"
DS1Pin.CD		="CD Audio"
DS1Pin.Video	="Video"
DS1Pin.Aux		="Auxilliary"
DS1Pin.Phone	="Telephone"
DS1Pin.PCBeep	="PC Beep"
DS1Pin.Master	="Volume"
DS1Pin.Mono		="Mono Out"
DS1Pin.AGC		="Mic 20dB Enable"
DS1Pin.FM		="MIDI"
DS1Pin.SMIX		="Stereo Out"

MediaCategories="SYSTEM\CurrentControlSet\Control\MediaCategories"
CustomizeYamaha="SYSTEM\CurrentControlSet\Services\YAMAHA\Driver\DSXGWDM"
YamahaDMusicPort="SOFTWARE\Microsoft\DirectMusic\Defaults"

WDM_MIDI="WDM-based Device"

KSCATEGORY_AUDIO="{6994AD04-93EF-11D0-A3CC-00A0C9223196}"
KSCATEGORY_RENDER="{65E8773E-8F56-11D0-A3B9-00A0C9223196}"
KSCATEGORY_CAPTURE="{65E8773D-8F56-11D0-A3B9-00A0C9223196}"
KSCATEGORY_TOPOLOGY="{DDA54A40-1E4C-11D1-A050-405705C10000}"
KSCATEGORY_SYNTHESIZER="{DFF220F3-F70F-11D0-B917-00A0C9223196}"
Proxy.CLSID="{17CCA71B-ECD7-11D0-B908-00A0C9223196}" 
;;----------------------------------------
;; Native Part
;;-----------------------------------------

KSNAME_Wav1="Wave"
KSNAME_DMUS="DMusic"
KSNAME_AC97="Topology"

;;----------------------------------------
;; Legacy Part
;;-----------------------------------------
KSNAME_FMSyn2="FMSynth"
KSNAME_UART="UART"

wdm_DS1Native.SvcDesc="Yamaha DS1 Audio Driver (WDM)"
;;-----------------------------------------------
;;   Gameport
;;---------------------------------------------
SPSVCINST_ASSOCSERVICE= 0x00000002
StdMfg="(Standard system devices)"
gameport.SvcDesc="Game port for Yamaha DS1"

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
[Version]
Signature="$CHICAGO$"
Class=MEDIA
ClassGUID={4d36e96c-e325-11ce-bfc1-08002be10318}
provider=%MSFT%
LayoutFile=layout.inf, layout1.inf, layout2.inf
DriverVer =11/18/1999,5.00.2184.1

[Manufacturer]
%YamahaMfg%=Yamaha

[Yamaha]
%*WDM_opl3sax.DeviceDesc% = WDM_opl3sax, *YMH0021
%*WDM_opl3sax.DeviceDesc% = WDM_opl3sax, *YMH0007
%*WDM_opl3sax.DeviceDesc% = WDM_opl3sax, *nEC1819
%*WDM_opl3sax.DeviceDesc% = WDM_opl3sax, *nEC181A
%*WDM_opl3sax.DeviceDesc% = WDM_opl3sax, *nEC181B
%*WDM_opl3sax.DeviceDesc% = WDM_opl3sax, *nEC181C
%Reserved.DeviceDesc%     = STUB_DEVICE, *YMH002F

[DestinationDirs]
WDM_opl3sax.CopyList = 10,system32\drivers ; %SystemRoot%\system32\drivers

[YMH.KnownFiles]
opl3sax.sys = safe,backup
vopl3sa.vxd = safe,backup
msmpu401.vxd = safe,backup

[YMH.KnownRegEntries]
IsToshiba750   =safe,backup,LoseWDVM,LoseIVC

[IsToshiba750]
1=HKLM,Software\Toshiba\MachInfo,Model,0,Tecra 750

[STUB_DEVICE]

[WDM_opl3sax]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration, WDMAUDIO.FDMA
CopyFiles=WDM_opl3sax.CopyList
AddReg=WDM_opl3sax.AddReg, OPL3SAxCus.Reg
KnownFiles      = YMH.KnownFiles
KnownRegEntries = YMH.KnownRegEntries

[WDM_opl3sax.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,YmhAud.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,YmhAud.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,YmhAud.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,YmhAud.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM.Interface.FMSynth

[YmhAud.Interface.Wave]
AddReg=YmhAud.Interface.Wave.AddReg

[YmhAud.Interface.Topology]
AddReg=YmhAud.Interface.Topo.AddReg

[YmhAud.Interface.Wave.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%YmhAud.Wave.szPname%

[YmhAud.Interface.Topo.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%YmhAud.Topology.szPname%

[WDM.Interface.UART]
AddReg=WDM.Interface.UART.AddReg
[WDM.Interface.UART.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM.UART.szPname%

[WDM.Interface.FMSynth]
AddReg=WDM.Interface.FMSynth.AddReg
[WDM.Interface.FMSynth.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM.FMSynth.szPname%

[WDM_opl3sax.AddReg]
HKR,,AssociatedFilters,,"wdmaud,swmidi,redbook"
HKR,,Driver,,opl3sax.sys
HKR,,NTMPDriver,,"opl3sax.sys,sbemul.sys"

HKR,Drivers,SubClasses,,"wave,midi,mixer"

HKR,Drivers\wave\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\midi\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\mixer\wdmaud.drv,Driver,,wdmaud.drv

HKR,Drivers\wave\wdmaud.drv,Description,,%*WDM_opl3sax.DeviceDesc%
HKR,Drivers\midi\wdmaud.drv,Description,,%WDM_MIDI%
HKR,Drivers\mixer\wdmaud.drv,Description,,%*WDM_opl3sax.DeviceDesc%

HKLM,%MediaCategories%\%SAxGUID.Ymersion%,Name,,%SAxPin.Ymersion%
HKLM,%MediaCategories%\%SAxGUID.Ymersion%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%SAxGUID.YmersionType%,Name,,%SAxPin.YmersionType%
HKLM,%MediaCategories%\%SAxGUID.YmersionType%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%SAxGUID.ZvPortControl%,Name,,%SAxPin.ZvPortControl%
HKLM,%MediaCategories%\%SAxGUID.ZvPortControl%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%SAxGUID.Mic20dbControl%,Name,,%SAxPin.Mic20dbControl%
HKLM,%MediaCategories%\%SAxGUID.Mic20dbControl%,Display,1,00,00,00,00
HKLM,%MediaCategories%\%SAxGUID.MonoInControl%,Name,,%SAxPin.MonoInControl%
HKLM,%MediaCategories%\%SAxGUID.MonoInControl%,Display,1,00,00,00,00

[OPL3SAxCus.Reg]
HKLM,SOFTWARE\YAMAHA\Driver\SAx-WDM\Mixer\WaveInLine, "Initial Value 0",  1,00,00,09,00
HKLM,SOFTWARE\YAMAHA\Driver\SAx-WDM\Mixer\WaveInLine, "Initial Value 1",  1,00,00,09,00
HKLM,SOFTWARE\YAMAHA\Driver\SAx-WDM\Mixer\WaveInCd, "Initial Value 0",  1,00,00,09,00
HKLM,SOFTWARE\YAMAHA\Driver\SAx-WDM\Mixer\WaveInCd, "Initial Value 1",  1,00,00,09,00
HKLM,SOFTWARE\YAMAHA\Driver\SAx-WDM\Mixer\WaveInMic, "Initial Value 0",  1,00,00,09,00
HKLM,SOFTWARE\YAMAHA\Driver\SAx-WDM\Mixer\WaveInMic, "Initial Value 1",  1,00,00,09,00
HKLM,SOFTWARE\YAMAHA\Driver\SAx-WDM\Mixer\WaveInLoopback, "Initial Value 0",  1,00,00,09,00
HKLM,SOFTWARE\YAMAHA\Driver\SAx-WDM\Mixer\WaveInLoopback, "Initial Value 1",  1,00,00,09,00

[WDM_opl3sax.CopyList]
opl3sax.sys

;;**************** NT Install ****************
[STUB_DEVICE.NT]
[STUB_DEVICE.NT.SERVICES]
AddService=,0x2

[WDM_opl3sax.NT]
Include=ks.inf, wdmaudio.inf
Needs=KS.Registration, WDMAUDIO.Registration, WDMAUDIO.FDMA
CopyFiles=WDM_opl3sax.CopyList
AddReg=WDM_opl3sax.AddReg, OPL3SAxCus.NT.Reg

[WDM_opl3sax.NT.Interfaces]
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Wave%,YmhAud.Interface.Wave
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_Wave%,YmhAud.Interface.Wave
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_Wave%,YmhAud.Interface.Wave
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_Topology%,YmhAud.Interface.Topology
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_CAPTURE%,%KSNAME_UART%,WDM.Interface.UART
AddInterface=%KSCATEGORY_AUDIO%,%KSNAME_FMSynth%,WDM.Interface.FMSynth
AddInterface=%KSCATEGORY_RENDER%,%KSNAME_FMSynth%,WDM.Interface.FMSynth

[WDM_opl3sax.NT.Services]
AddService = wdm_opl3sax, 0x00000002, wdm_opl3sax_Service_Inst

[wdm_opl3sax_Service_Inst]
DisplayName    = %wdm_opl3sax.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\opl3sax.sys

[OPL3SAxCus.NT.Reg]
HKLM,SYSTEM\CurrentControlSet\Services\YAMAHA\Driver\SAx-WDM\Mixer\WaveInLine, "Initial Value 0",  1,00,00,09,00
HKLM,SYSTEM\CurrentControlSet\Services\YAMAHA\Driver\SAx-WDM\Mixer\WaveInLine, "Initial Value 1",  1,00,00,09,00
HKLM,SYSTEM\CurrentControlSet\Services\YAMAHA\Driver\SAx-WDM\Mixer\WaveInCd, "Initial Value 0",  1,00,00,09,00
HKLM,SYSTEM\CurrentControlSet\Services\YAMAHA\Driver\SAx-WDM\Mixer\WaveInCd, "Initial Value 1",  1,00,00,09,00
HKLM,SYSTEM\CurrentControlSet\Services\YAMAHA\Driver\SAx-WDM\Mixer\WaveInMic, "Initial Value 0",  1,00,00,09,00
HKLM,SYSTEM\CurrentControlSet\Services\YAMAHA\Driver\SAx-WDM\Mixer\WaveInMic, "Initial Value 1",  1,00,00,09,00
HKLM,SYSTEM\CurrentControlSet\Services\YAMAHA\Driver\SAx-WDM\Mixer\WaveInLoopback, "Initial Value 0",  1,00,00,09,00
HKLM,SYSTEM\CurrentControlSet\Services\YAMAHA\Driver\SAx-WDM\Mixer\WaveInLoopback, "Initial Value 1",  1,00,00,09,00
[Strings]
MSFT="Microsoft"
YamahaMfg="Yamaha"
*WDM_opl3sax.DeviceDesc = "YAMAHA OPL3-SAx WDM Driver"
Reserved.DeviceDesc     = "YAMAHA OPL3-SAx Reserved"

YmhAud.Wave.szPname="Yamaha Audio"
YmhAud.Topology.szPname="Yamaha"

MediaCategories="SYSTEM\CurrentControlSet\Control\MediaCategories"
WDM_MIDI="WDM-based Device"

Proxy.CLSID="{17CCA71B-ECD7-11D0-B908-00A0C9223196}"
KSCATEGORY_AUDIO="{6994AD04-93EF-11D0-A3CC-00A0C9223196}"
KSCATEGORY_RENDER="{65E8773E-8F56-11D0-A3B9-00A0C9223196}"
KSCATEGORY_CAPTURE="{65E8773D-8F56-11D0-A3B9-00A0C9223196}"
KSNAME_Wave="Wave"
KSNAME_UART="UART"
KSNAME_FMSynth="FMSynth"
KSNAME_Topology="Topology"
KSNAME_Wavetable="Wavetable"

WDM.UART.szPname="Yamaha MPU-401"
WDM.FMSynth.szPname="Yamaha FM Synthesizer"

wdm_opl3sax.SvcDesc = "YAMAHA OPL3-SAx Audio Driver (WDM)"

LoseWDVM= The wave device for voice modem may stop working
LoseIVC= The Intel Proshare Videoconferencing system may stop working

SAxGUID.Ymersion        ="{1460F9A1-C963-11d1-BE8B-00A02495FA2D}"
SAxPin.Ymersion         ="Ymersion"
SAxGUID.YmersionType    ="{1460F9A0-C963-11d1-BE8B-00A02495FA2D}"
SAxPin.YmersionType     ="Ymersion Type"
SAxGUID.ZvPortControl   ="{A2E56740-F953-11d1-9180-0060977EDEC7}"
SAxPin.ZvPortControl    ="ZV Port"
SAxGUID.Mic20dbControl  ="{6745A220-F97D-11d1-9180-0060977EDEC7}"
SAxPin.Mic20dbControl   ="MIC +20dB"
SAxGUID.MonoInControl   ="{B969C540-F97D-11d1-9180-0060977EDEC7}"
SAxPin.MonoInControl    ="Mono In"

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
;; The audio inf file for WDM core files.

[Version]
Signature="$CHICAGO$"
Class=MEDIA
ClassGUID={4d36e96c-e325-11ce-bfc1-08002be10318}
provider=%MSFT%
LayoutFile=layout.inf, layout1.inf, layout2.inf
DriverVer =11/18/1999,5.00.2184.1

;; Device Callouts for swenumed devices
[Manufacturer]
%MfgName%=Microsoft
;; Excluding drivers from the "Add New Hardware" list.
[ControlFlags]

ExcludeFromSelect = *


[Microsoft]
%WDM_KMIXER.DeviceDesc%   = WDM_KMIXER,   SW\{B7EAFDC0-A680-11D0-96D8-00AA0051E51D}
%WDM_SYSAUDIO.DeviceDesc% = WDM_SYSAUDIO, SW\{A7C7A5B0-5AF3-11D1-9CED-00A024BF0407}
%WDM_SWMIDI.DeviceDesc%   = WDM_SWMIDI,   SW\{6C1B9F60-C0A9-11D0-96D8-00AA0051E51D}
%WDM_WDMAUD.DeviceDesc%   = WDM_WDMAUD,   SW\{CD171DE3-69E5-11D2-B56D-0000F8754380}
%WDM_DMUSIC.DeviceDesc%   = WDM_DMUSIC,   SW\{8C07DD50-7A8D-11d2-8F8C-00C04FBF8FEF}
%*PNPB006.DeviceDesc%     = MS_MPU401, *PNPB006

;; WDM Audio Registration Section can be called by OEM's to install a WDM driver
[WDMAUDIO.Registration]
AddReg    = DeviceRegistration
CopyFiles = WDM.CopyFiles.Drv, WDM.CopyFiles.Sys

;;for Win98 DDK backward compatibility
[WDMAUDIO.Registration.NT]
AddReg    = DeviceRegistration
CopyFiles = WDM.CopyFiles.Drv, WDM.CopyFiles.Sys

;; WDM Audio Install Section to be called once when system is installed
[WDMAUDIO.Install]

[DeviceRegistration]
;; Sysaudio swenum install
HKLM,%RunOnce%,"WDM_SYSAUDIO",,"rundll32.exe streamci.dll,StreamingDeviceSetup %WDM_SYSAUDIO.DeviceId%,%KSNAME_Filter%,%KSCATEGORY_SYSAUDIO%,%17%\WDMAUDIO.inf,WDM_SYSAUDIO.Interface.Install"

;; Kmixer swenum install
HKLM,%RunOnce%,"WDM_KMIXER0",,"rundll32.exe streamci.dll,StreamingDeviceSetup %WDM_KMIXER.DeviceId%,%KSNAME_Filter%,%KSCATEGORY_MIXER%,%17%\WDMAUDIO.inf,WDM_KMIXER.Interface.Install"
HKLM,%RunOnce%,"WDM_KMIXER1",,"rundll32.exe streamci.dll,StreamingDeviceSetup %WDM_KMIXER.DeviceId%,%KSNAME_Filter%,%KSCATEGORY_AUDIO%,%17%\WDMAUDIO.inf,WDM_KMIXER.Interface.Install"

;; SWMidi swenum install
HKLM,%RunOnce%,"WDM_SWMIDI0",,"rundll32.exe streamci.dll,StreamingDeviceSetup %WDM_SWMIDI.DeviceId%,%KSNAME_Filter%,%KSCATEGORY_DATATRANSFORM%,%17%\WDMAUDIO.inf,WDM_SWMIDI.Interface.Install"
HKLM,%RunOnce%,"WDM_SWMIDI1",,"rundll32.exe streamci.dll,StreamingDeviceSetup %WDM_SWMIDI.DeviceId%,%KSNAME_Filter%,%KSCATEGORY_SYNTHESIZER%,%17%\WDMAUDIO.inf,WDM_SWMIDI.Interface.Install"
HKLM,%RunOnce%,"WDM_SWMIDI2",,"rundll32.exe streamci.dll,StreamingDeviceSetup %WDM_SWMIDI.DeviceId%,%KSNAME_Filter%,%KSCATEGORY_AUDIO%,%17%\WDMAUDIO.inf,WDM_SWMIDI.Interface.Install"

;; DMusic swenum install
HKLM,%RunOnce%,"WDM_DMUSIC0",,"rundll32.exe streamci.dll,StreamingDeviceSetup %WDM_DMUSIC.DeviceId%,%KSNAME_DMUSIC%,%KSCATEGORY_DATATRANSFORM%,%17%\WDMAUDIO.inf,WDM_DMUSIC.Interface.Install"
HKLM,%RunOnce%,"WDM_DMUSIC1",,"rundll32.exe streamci.dll,StreamingDeviceSetup %WDM_DMUSIC.DeviceId%,%KSNAME_DMUSIC%,%KSCATEGORY_SYNTHESIZER%,%17%\WDMAUDIO.inf,WDM_DMUSIC.Interface.Install"
HKLM,%RunOnce%,"WDM_DMUSIC2",,"rundll32.exe streamci.dll,StreamingDeviceSetup %WDM_DMUSIC.DeviceId%,%KSNAME_DMUSIC%,%KSCATEGORY_AUDIO%,%17%\WDMAUDIO.inf,WDM_DMUSIC.Interface.Install"

;; WDMAud swenum install
HKLM,%RunOnce%,"WDM_WDMAUD",,"rundll32.exe streamci.dll,StreamingDeviceSetup %WDM_WDMAUD.DeviceId%,%KSNAME_Filter%,%KSCATEGORY_WDMAUD%,%17%\WDMAUDIO.inf,WDM_WDMAUD.Interface.Install"

;; copied to system32\drivers
[WDM.CopyFiles.Drv]
portcls.sys
stream.sys

;; copied to system
[WDM.CopyFiles.Sys]
wdmaud.drv
ksuser.dll

;; MPU401 Install Section can be called by OEM's to install MS MPU401 driver
[WDMAUDIO.MPU401]
CopyFiles  = MS_MPU401.CopyFiles
AddReg     = MS_MPU401.AddReg
UpdateInis = MS_MPU401.UpdInis
DelReg     = MS_MPU401.DelRegs
DelFiles   = MS_MPU401.DelKernFiles, MS_MPU401.DelUserFiles

[MS_MPU401.CopyFiles]
msmpu401.sys

[MS_MPU401.AddReg]
HKR,,AssociatedFilters,,"wdmaud"
HKR,,Driver,,msmpu401.sys
HKR,,NTMPDriver,,msmpu401.sys

HKR,Drivers,SubClasses,,"midi"
HKR,Drivers\midi\wdmaud.drv, Driver,,wdmaud.drv
HKR,Drivers\midi\wdmaud.drv, Description,,%MS_MPU401%

[MS_MPU401.UpdInis]
system.ini,drivers32,"midi*=mpu401.dll",,1

[MS_MPU401.DelRegs]
HKLM,SYSTEM\CurrentControlSet\Enum\Root\LEGACY_MPU401
HKLM,SYSTEM\CurrentControlSet\Services\mpu401

[MS_MPU401.DelKernFiles]
mpu401.sys,,,1

[MS_MPU401.DelUserFiles]
mpu401.dll,,,1

[WDMAUDIO.MPU401.Services]
AddService = ms_mpu401,0x00000002, ms_mpu401_Service_Inst

[ms_mpu401_Service_Inst]
DisplayName    = %ms_mpu401.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\msmpu401.sys

;; FDMA Install Section can be called by OEM's to turn on FDMA
[FDMA.AddReg]
;; nothing to add for NT (yet)
[WDMAUDIO.FDMA]
AddReg=FDMA.AddReg

;; Generic MPU401 driver install
[MS_MPU401]
Include=ks.inf
Needs=KS.Registration, WDMAUDIO.Registration, WDMAUDIO.MPU401
LogConfig  = MS_MPU401.LogConfig

[MS_MPU401.FactDef]
ConfigPriority=NORMAL
IOConfig=330-331
IRQConfig=9

[MS_MPU401.LogConfig]
ConfigPriority = HARDRECONFIG
IOConfig=2@200-271%fff0(3ff::),300-301,310-311,320-321,330-331,332-333,334-335,336-337,340-341,350-351,360-361,370-371,390-391,3A0-3A1,3D0-3D1,3E0-3E1
IRQConfig = 3 , 4 , 5 , 7 , 9 , 10

[MS_MPU401.Interfaces]
AddInterface = %KSCATEGORY_AUDIO%,%KSNAME_UART%,WDM.Interface.UART

[WDM.Interface.UART]
AddReg=WDM.Interface.UART.AddReg
[WDM.Interface.UART.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM.UART.szPname%

[MS_MPU401.Services]
Needs=WDMAUDIO.MPU401.Services

;; System Audio Install
[WDM_SYSAUDIO.Interface.Install]
AddReg=WDM_SYSAUDIO.Interface.AddReg

[WDM_SYSAUDIO.Interface.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM_SYSAUDIO.FriendlyName%

[WDM_SYSAUDIO]
CopyFiles = WDM_SYSAUDIO.CopyFiles

[WDM_SYSAUDIO.CopyFiles]
sysaudio.sys

[WDM_SYSAUDIO.Services]
AddService = sysaudio,0x00000002, sysaudio_Service_Inst

[sysaudio_Service_Inst]
DisplayName    = %sysaudio.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\sysaudio.sys

;; Kernel Mixer Install
[WDM_KMIXER.Interface.Install]
AddReg=WDM_KMIXER.Interface.AddReg

[WDM_KMIXER.Interface.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM_KMIXER.FriendlyName%

[WDM_KMIXER]
CopyFiles = WDM_KMIXER.CopyFiles

[WDM_KMIXER.CopyFiles]
kmixer.sys

[WDM_KMIXER.Services]
AddService = kmixer,  0x00000002, kmixer_Service_Inst

[kmixer_Service_Inst]
DisplayName    = %kmixer.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\kmixer.sys

;; Software MIDI Install
[WDM_SWMIDI.Interface.Install]
AddReg=WDM_SWMIDI.Interface.AddReg

[WDM_SWMIDI.Interface.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM_SWMIDI.FriendlyName%

[WDM_SWMIDI]
CopyFiles = WDM_SWMIDI.CopyFiles

[WDM_SWMIDI.CopyFiles]
swmidi.sys

[WDM_SWMIDI.Services]
AddService = swmidi,0x00000002, swmidi_Service_Inst

[swmidi_Service_Inst]
DisplayName    = %swmidi.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\swmidi.sys

;; DMusic Install
[WDM_DMUSIC.Interface.Install]
AddReg=WDM_DMUSIC.Interface.AddReg

[WDM_DMUSIC.Interface.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM_DMUSIC.FriendlyName%

[WDM_DMUSIC]
CopyFiles = WDM_DMUSIC.CopyFiles

[WDM_DMUSIC.CopyFiles]
DMusic.sys

[WDM_DMUSIC.Services]
AddService = DMusic, 0x00000002, DMus_Synth_Service_Inst

[DMus_Synth_Service_Inst]
DisplayName    = %WDM_DMUSIC.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_SYSTEM_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\DMusic.sys

;; WDMAUD Install
[WDM_WDMAUD.Interface.Install]
AddReg=WDM_WDMAUD.Interface.AddReg

[WDM_WDMAUD.Interface.AddReg]
HKR,,CLSID,,%Proxy.CLSID%
HKR,,FriendlyName,,%WDM_WDMAUD.FriendlyName%

[WDM_WDMAUD]
CopyFiles = WDM_WDMAUD.CopyFiles

[WDM_WDMAUD.CopyFiles]
wdmaud.sys

[WDM_WDMAUD.Services]
AddService = wdmaud,0x00000002, wdmaud_Service_Inst

[wdmaud_Service_Inst]
DisplayName    = %wdmaud.SvcDesc%
ServiceType    = 1                  ; SERVICE_KERNEL_DRIVER
StartType      = 3                  ; SERVICE_DEMAND_START
ErrorControl   = 1                  ; SERVICE_ERROR_NORMAL
ServiceBinary  = %10%\system32\drivers\wdmaud.sys

;; Destination Directory List
[DestinationDirs]
WDM.CopyFiles.Drv     = 10,system32\drivers ; %SystemRoot%\system32\drivers
WDM.CopyFiles.Sys     = 11                  ; %SystemRoot%\system

MS_MPU401.CopyFiles   = 10,system32\drivers ; %SystemRoot%\system32\drivers

WDM_SYSAUDIO.CopyFiles = 10,system32\drivers
WDM_KMIXER.CopyFiles   = 10,system32\drivers
WDM_SWMIDI.CopyFiles   = 10,system32\drivers
WDM_WDMAUD.CopyFiles   = 10,system32\drivers
WDM_DMUSIC.CopyFiles   = 10,system32\drivers

MS_MPU401.DelKernFiles = 10,system32\drivers
MS_MPU401.DelUserFiles = 10,system32

;; NT Class Install
[ClassInstall32.NT]
Addreg     = ClassInstall.AddReg
UpdateInis = ClassInstall.DelOldInis

[ClassInstall.AddReg]
HKR,,,,%MediaClassName%
HKR,,Installer32,,"MmSys.Cpl,MediaClassInstaller"
HKR,,EnumPropPages32,,"MmSys.Cpl,MediaPropPageProvider"
HKR,,TroubleShooter-0,,"tshoot.chm,hdw_multi.htm"
HKR,,Icon,,"3004"

[ClassInstall.DelOldInis]
system.ini,drivers32,"wave*=sndblst.dll",,1
system.ini,drivers32,"midi*=sndblst.dll",,1
system.ini,drivers32,"mixer*=sndblst.dll",,1
system.ini,drivers32,"aux*=sndblst.dll",,1

system.ini,drivers32,"wave*=sb16snd.dll",,1
system.ini,drivers32,"midi*=sb16snd.dll",,1
system.ini,drivers32,"mixer*=sb16snd.dll",,1
system.ini,drivers32,"aux*=sb16snd.dll",,1

system.ini,drivers32,"wave*=sbawe32.drv",,1
system.ini,drivers32,"midi*=sbawe32.drv",,1
system.ini,drivers32,"mixer*=sbawe32.drv",,1
system.ini,drivers32,"aux*=sbawe32.drv",,1

system.ini,drivers32,"wave*=auddrive.dll",,1
system.ini,drivers32,"midi*=auddrive.dll",,1
system.ini,drivers32,"mixer*=auddrive.dll",,1
system.ini,drivers32,"aux*=auddrive.dll",,1

system.ini,drivers32,"wave*=sndsys32.dll",,1
system.ini,drivers32,"midi*=sndsys32.dll",,1
system.ini,drivers32,"mixer*=sndsys32.dll",,1
system.ini,drivers32,"aux*=sndsys32.dll",,1

system.ini,drivers32,"wave*=opl3sa32.dll",,1
system.ini,drivers32,"midi*=opl3sa32.dll",,1
system.ini,drivers32,"mixer*=opl3sa32.dll",,1
system.ini,drivers32,"aux*=opl3sa32.dll",,1

system.ini,drivers32,"wave*=maestro.dll",,1
system.ini,drivers32,"midi*=maestro.dll",,1
system.ini,drivers32,"mixer*=maestro.dll",,1
system.ini,drivers32,"aux*=maestro.dll",,1

system.ini,drivers32,"wave*=sndglxy.dll",,1
system.ini,drivers32,"midi*=sndglxy.dll",,1
system.ini,drivers32,"mixer*=sndglxy.dll",,1
system.ini,drivers32,"aux*=sndglxy.dll",,1

system.ini,drivers32,"wave*=ydsxg32.dll",,1
system.ini,drivers32,"midi*=ydsxg32.dll",,1
system.ini,drivers32,"mixer*=ydsxg32.dll",,1
system.ini,drivers32,"aux*=ydsxg32.dll",,1

system.ini,drivers32,"wave*=adisound.dll",,1
system.ini,drivers32,"midi*=adisound.dll",,1
system.ini,drivers32,"mixer*=adisound.dll",,1
system.ini,drivers32,"aux*=adisound.dll",,1

system.ini,drivers32,"wave*=essaudio.dll",,1
system.ini,drivers32,"midi*=essaudio.dll",,1
system.ini,drivers32,"mixer*=essaudio.dll",,1
system.ini,drivers32,"aux*=essaudio.dll",,1

system.ini,drivers32,"wave*=cs32ba11.dll",,1
system.ini,drivers32,"midi*=cs32ba11.dll",,1
system.ini,drivers32,"mixer*=cs32ba11.dll",,1
system.ini,drivers32,"aux*=cs32ba11.dll",,1

system.ini,drivers32,"wave*=cwbaudll.dll",,1
system.ini,drivers32,"midi*=cwbaudll.dll",,1
system.ini,drivers32,"mixer*=cwbaudll.dll",,1
system.ini,drivers32,"aux*=cwbaudll.dll",,1

system.ini,drivers32,"wave*=alsnd32.dll",,1
system.ini,drivers32,"midi*=alsnd32.dll",,1
system.ini,drivers32,"mixer*=alsnd32.dll",,1
system.ini,drivers32,"aux*=alsnd32.dll",,1

system.ini,drivers32,"wave*=es1371.dll",,1
system.ini,drivers32,"midi*=es1371.dll",,1
system.ini,drivers32,"mixer*=es1371.dll",,1
system.ini,drivers32,"aux*=es1371.dll",,1

system.ini,drivers32,"wave*=ctmm32.dll",,1
system.ini,drivers32,"midi*=ctmm32.dll",,1
system.ini,drivers32,"mixer*=ctmm32.dll",,1

system.ini,drivers32,"midi*=ctsyn32.dll",,1


system.ini, driver32, "wave*=cwcmmsys.dll",,1
system.ini, driver32, "midi*=cwcmmsys.dll",,1
system.ini, driver32, "mixer*=cwcmmsys.dll",,1
system.ini, driver32, "midi* =cwcfm3.dll",,1


system.ini,drivers32,"wave*=aztaud.dll",,1
system.ini,drivers32,"midi*=aztaud.dll",,1
system.ini,drivers32,"mixer*=aztaud.dll",,1
system.ini,drivers32,"aux*=aztaud.dll",,1


system.ini,drivers32,"wave*=audpci40.dll",,1
system.ini,drivers32,"midi*=audpci40.dll",,1
system.ini,drivers32,"mixer*=audpci40.dll",,1
system.ini,drivers32,"aux*=audpci40.dll",,1


system.ini,drivers32,"wave*=au88nt32.dll",,1
system.ini,drivers32,"midi*=au88nt32.dll",,1
system.ini,drivers32,"mixer*=au88nt32.dll",,1
system.ini,drivers32,"aux*=au88nt32.dll",,1

system.ini,drivers32,"wave*=au88nt30.dll",,1
system.ini,drivers32,"midi*=au88nt30.dll",,1
system.ini,drivers32,"mixer*=au88nt30.dll",,1
system.ini,drivers32,"aux*=au88nt30.dll",,1


system.ini,drivers32,"wave*=waveart.dll",,1
system.ini,drivers32,"midi*=waveart.dll",,1
system.ini,drivers32,"mixer*=waveart.dll",,1
system.ini,drivers32,"aux*=waveart.dll",,1

[Strings]
;Non-localized strings
;; ???? These keys weren't used anywhere. Delete?
;;KEY_WARNVER="SYSTEM\CurrentControlSet\Control\SessionManager\WarnVerDLLs"
;;KEY_CHKVER="SYSTEM\CurrentControlSet\Control\SessionManager\CheckVerDLLs"
;;KEY_FIL="SYSTEM\CurrentControlSet\Control\MediaResources\FilterList"
KEY_IOC="SYSTEM\CurrentControlSet\Control\MediaResources\InstallOptionalComponents"
MSFT="Microsoft"
MfgName="Microsoft"

RunOnce = "SOFTWARE\Microsoft\Windows\CurrentVersion\RunOnce"
Proxy.CLSID           = "{17CCA71B-ECD7-11D0-B908-00A0C9223196}"
KSNAME_Filter         = "{9B365890-165F-11D0-A195-0020AFD156E4}"
KSNAME_DMUSIC         = "dmusic"

WDM_SYSAUDIO.DeviceId = "{A7C7A5B0-5AF3-11D1-9CED-00A024BF0407}"
KSCATEGORY_SYSAUDIO   = "{A7C7A5B1-5AF3-11D1-9CED-00A024BF0407}"

WDM_KMIXER.DeviceId   = "{B7EAFDC0-A680-11D0-96D8-00AA0051E51D}"
KSCATEGORY_MIXER      = "{AD809C00-7B88-11D0-A5D6-28DB04C10000}"

WDM_SWMIDI.DeviceId      =  "{6C1B9F60-C0A9-11D0-96D8-00AA0051E51D}"
WDM_DMUSIC.DeviceId      =  "{8C07DD50-7A8D-11d2-8F8C-00C04FBF8FEF}"

KSCATEGORY_DATATRANSFORM =  "{2EB07EA0-7E70-11D0-A5D6-28DB04C10000}"
KSCATEGORY_SYNTHESIZER   =  "{DFF220F3-F70F-11D0-B917-00A0C9223196}"
KSCATEGORY_AUDIO         =  "{6994AD04-93EF-11D0-A3CC-00A0C9223196}"

WDM_WDMAUD.DeviceId = "{CD171DE3-69E5-11D2-B56D-0000F8754380}"
KSCATEGORY_WDMAUD   = "{3E227E76-690D-11D2-8161-0000F8775BF1}"

;Localized strings
MediaClassName="Sound, video and game controllers"
*PNPB006.DeviceDesc = "MPU-401 Compatible MIDI Device"
MS_MPU401="MPU401"
WDM.UART.szPname="MPU-401"
KSNAME_UART="UART"

WDM_SYSAUDIO.DeviceDesc   = "Microsoft Kernel System Renderer"
WDM_SYSAUDIO.FriendlyName = "Microsoft Kernel System Renderer"
sysaudio.SvcDesc          = "Microsoft System Audio Device"

WDM_KMIXER.DeviceDesc     = "Microsoft Kernel Audio Mixer"
WDM_KMIXER.FriendlyName   = "Microsoft Kernel Audio Mixer"
kmixer.SvcDesc            = "Microsoft Kernel Wave Audio Mixer"

WDM_SWMIDI.DeviceDesc     = "Microsoft Kernel GS Wavetable Synthesizer"
WDM_SWMIDI.FriendlyName   = "Microsoft Kernel GS Wavetable Synthesizer"
swmidi.SvcDesc            = "Microsoft Kernel GS Wavetable Synthesizer"

WDM_DMUSIC.DeviceDesc     = "Microsoft DirectMusic SW Synth (WDM)"
WDM_DMUSIC.FriendlyName   = "Microsoft DirectMusic SW Synth (WDM)"
WDM_DMUSIC.SvcDesc        = "Microsoft DirectMusic SW Synth (WDM)"

WDM_WDMAUD.DeviceDesc     = "Microsoft WINMM WDM Audio Compatibility Driver"
WDM_WDMAUD.FriendlyName   = "Microsoft WINMM WDM Audio Compatibility Driver"
wdmaud.SvcDesc            = "Microsoft WINMM WDM Audio Compatibility Driver"

ms_mpu401.SvcDesc         = "Microsoft MPU-401 MIDI UART Driver"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    [Version]
Signature="$WINDOWS NT$"
Class=HIDClass
ClassGuid={745a17a0-74d3-11d0-b6fe-00a0c90f57da}
Provider=%MSFT%
LayoutFile=layout.inf
DriverVer=11/14/1999,5.00.2183.1

[ControlFlags]
ExcludeFromSelect = *

[DestinationDirs]
DefaultDestDir = 12
HIDGame_Inst.CopyFilesDLL.NT = 11

[Manufacturer]
%StdMfg%=Standard

[Standard]
; ID for generic analog hid devices
%HIDGame.GenericDesc%           = HIDGame_Inst, GamePort\GameDevice
%HIDGame.GenericDesc%           = HIDGame_Inst, GamePort\AnalogJoystick

; built in specific analog hid devices:
%HidGame.Generic2A2B%           = HIDGame_Inst, GamePort\VID_045E&PID_0102
%HidGame.Generic2A4B%           = HIDGame_Inst, GamePort\VID_045E&PID_0103
%HidGame.Gamepad2B%             = HIDGame_Inst, GamePort\VID_045E&PID_0104
%HidGame.FlightYoke2B%          = HIDGame_Inst, GamePort\VID_045E&PID_0105
%HidGame.FlightYokeThrottle2B%  = HIDGame_Inst, GamePort\VID_045E&PID_0106
%HidGame.Generic3A2B%           = HIDGame_Inst, GamePort\VID_045E&PID_0107
%HidGame.Generic3A4B%           = HIDGame_Inst, GamePort\VID_045E&PID_0108
%HidGame.Gamepad4B%             = HIDGame_Inst, GamePort\VID_045E&PID_0109
%HidGame.FlightYoke4B%          = HIDGame_Inst, GamePort\VID_045E&PID_010A
%HidGame.FlightYokeThrottle4B%  = HIDGame_Inst, GamePort\VID_045E&PID_010B
%HidGame.YConnectTwo2A2B%       = HIDGame_Inst, GamePort\VID_045E&PID_010C


;=====================================================================
[HIDGame_Inst.NT]
CopyFiles=HIDGame_Inst.CopyFiles.NT, HIDGame_Inst.CopyFilesDLL.NT

[HIDGame_Inst.CopyFiles.NT]
hidgame.sys
hidclass.sys
hidparse.sys

[HIDGame_Inst.CopyFilesDLL.NT]
hid.dll

[HIDGame_Inst.NT.Services]
AddService = hidgame,%SPSVCINST_ASSOCSERVICE%,HidGame_Service_Inst


[HidGame_Service_Inst]
DisplayName    = %HidGame.SvcDesc%
ServiceType    = %SERVICE_KERNEL_DRIVER%
StartType      = %SERVICE_DEMAND_START%
ErrorControl   = %SERVICE_ERROR_IGNORE%
ServiceBinary  = %12%\hidgame.sys
LoadOrderGroup = Extended Base


[IHVBootStrap]
AddReg = Analog.AddReg
AddReg = LwJoy.Auto.AddReg

[LwJoy.Auto.AddReg]
HKLM,%KEY_OEM%\VID_046D&PID_C01F,OEMName,,%WgmExtrmDgtlAuto.Name%
HKLM,%KEY_OEM%\VID_046D&PID_C01F,OEMData, 1, 0, 0, 0, 0, 0, 0, 0, 0
HKLM,%KEY_OEM%\VID_046D&PID_C01F,OEMHardwareID,,"GamePort\WingManDigitalDevice"

[Analog.AddReg]
HKLM,%KEY_OEM%\VID_045E&PID_01F0,OEMName,,%HidGame.Dev0%
HKLM,%KEY_OEM%\VID_045E&PID_01F0,OEMData,1,40,08,00,00,04,00,00,00
HKLM,%KEY_OEM%\VID_045E&PID_01F0,OEMHardwareID,,"Gameport\VID_045E&PID_01F0"

HKLM,%KEY_OEM%\VID_045E&PID_01F1,OEMName,,%HidGame.Dev1%
HKLM,%KEY_OEM%\VID_045E&PID_01F1,OEMData,1,06,00,00,00,04,00,00,00
HKLM,%KEY_OEM%\VID_045E&PID_01F1,OEMHardwareID,,"Gameport\VID_045E&PID_01F1"

HKLM,%KEY_OEM%\VID_045E&PID_01F2,OEMName,,%HidGame.Dev2%
HKLM,%KEY_OEM%\VID_045E&PID_01F2,OEMData,1,07,00,00,00,04,00,00,00
HKLM,%KEY_OEM%\VID_045E&PID_01F2,OEMHardwareID,,"Gameport\VID_045E&PID_01F2"

HKLM,%KEY_OEM%\VID_045E&PID_01F3,OEMName,,%HidGame.Dev3%
HKLM,%KEY_OEM%\VID_045E&PID_01F3,OEMData,1,06,00,00,00,06,00,00,00
HKLM,%KEY_OEM%\VID_045E&PID_01F3,OEMHardwareID,,"Gameport\VID_045E&PID_01F3"

HKLM,%KEY_OEM%\VID_045E&PID_01F4,OEMName,,%HidGame.Dev4%
HKLM,%KEY_OEM%\VID_045E&PID_01F4,OEMData,1,07,00,00,00,06,00,00,00
HKLM,%KEY_OEM%\VID_045E&PID_01F4,OEMHardwareID,,"Gameport\VID_045E&PID_01F4"

HKLM,%KEY_OEM%\VID_045E&PID_01F5,OEMName,,%HidGame.Dev5%
HKLM,%KEY_OEM%\VID_045E&PID_01F5,OEMData,1,06,00,04,00,06,00,00,00
HKLM,%KEY_OEM%\VID_045E&PID_01F5,OEMHardwareID,,"Gameport\VID_045E&PID_01F5"

HKLM,%KEY_OEM%\VID_045E&PID_01F6,OEMName,,%HidGame.Dev6%
HKLM,%KEY_OEM%\VID_045E&PID_01F6,OEMData,1,07,00,04,00,06,00,00,00
HKLM,%KEY_OEM%\VID_045E&PID_01F6,OEMHardwareID,,"Gameport\VID_045E&PID_01F6"

HKLM,%KEY_OEM%\VID_045E&PID_01F7,OEMName,,%HidGame.Dev7%
HKLM,%KEY_OEM%\VID_045E&PID_01F7,OEMData,1,16,00,04,00,06,00,00,00
HKLM,%KEY_OEM%\VID_045E&PID_01F7,OEMHardwareID,,"Gameport\VID_045E&PID_01F7"

HKLM,%KEY_OEM%\VID_045E&PID_01F8,OEMName,,%HidGame.Dev8%
HKLM,%KEY_OEM%\VID_045E&PID_01F8,OEMData,1,17,00,04,00,06,00,00,00
HKLM,%KEY_OEM%\VID_045E&PID_01F8,OEMHardwareID,,"Gameport\VID_045E&PID_01F8"

HKLM,%KEY_OEM%\VID_045E&PID_01F9,OEMName,,%HidGame.Dev9%
HKLM,%KEY_OEM%\VID_045E&PID_01F9,OEMData,1,20,00,00,00,06,00,00,00
HKLM,%KEY_OEM%\VID_045E&PID_01F9,OEMHardwareID,,"Gameport\VID_045E&PID_01F9"

HKLM,%KEY_OEM%\VID_045E&PID_01FA,OEMName,,%HidGame.DevA%
HKLM,%KEY_OEM%\VID_045E&PID_01FA,OEMData,1,21,00,00,00,05,00,00,00
HKLM,%KEY_OEM%\VID_045E&PID_01FA,OEMHardwareID,,"Gameport\VID_045E&PID_01FA"

HKLM,%KEY_OEM%\VID_045E&PID_01FB,OEMName,,%HidGame.DevB%
HKLM,%KEY_OEM%\VID_045E&PID_01FB,OEMData,1,00,00,00,00,06,00,00,00
HKLM,%KEY_OEM%\VID_045E&PID_01FB,OEMHardwareID,,"Gameport\VID_045E&PID_01FB"

HKLM,%KEY_OEM%\VID_045E&PID_01FC,OEMName,,%HidGame.DevC%
HKLM,%KEY_OEM%\VID_045E&PID_01FC,OEMData,1,01,00,00,00,05,00,00,00
HKLM,%KEY_OEM%\VID_045E&PID_01FC,OEMHardwareID,,"Gameport\VID_045E&PID_01FC"

HKLM,%KEY_OEM%\VID_045E&PID_01FD,OEMName,,%HidGame.DevD%
HKLM,%KEY_OEM%\VID_045E&PID_01FD,OEMData,1,0A,00,00,00,05,00,00,00
HKLM,%KEY_OEM%\VID_045E&PID_01FD,OEMHardwareID,,"Gameport\VID_045E&PID_01FD"


[strings]
;localized strings
MSFT                            = "Microsoft"
StdMfg                          = "(Standard system devices)"
HID.ClassName                   = "Human Input Devices (HID)"
HidGame.SvcDesc                 = "Microsoft Hid to Joystick Port Enabler"

HIDGame.GenericDesc             = "Generic Game port Device"

HidGame.Generic2A2B             = "2-axis, 2-button joystick"
HidGame.Generic2A4B             = "2-axis, 4-button joystick"
HidGame.Gamepad2B               = "2-button gamepad"
HidGame.FlightYoke2B            = "2-button flight yoke"
HidGame.FlightYokeThrottle2B    = "2-button flight yoke w/throttle"
HidGame.Generic3A2B             = "3-axis, 2-button joystick"
HidGame.Generic3A4B             = "3-axis, 4-button joystick"
HidGame.Gamepad4B               = "4-button gamepad"
HidGame.FlightYoke4B            = "4-button flight yoke"
HidGame.FlightYokeThrottle4B    = "4-button flight yoke w/throttle"
HidGame.YConnectTwo2A2B         = "Two 2-axis, 2-button joysticks on Y-connector"

HidGame.Dev0                    = "Steering wheel w/rudder axis pedals"
HidGame.Dev1                    = "4-button joystick w/POV"
HidGame.Dev2                    = "4-button joystick w/POV and throttle"
HidGame.Dev3                    = "6-button joystick w/POV"
HidGame.Dev4                    = "6-button joystick w/POV and throttle"
HidGame.Dev5                    = "6-button joystick w/two POVs"
HidGame.Dev6                    = "6-button joystick w/two POVs and throttle"
HidGame.Dev7                    = "6-button flight yoke w/two POVs"
HidGame.Dev8                    = "6-button flight yoke w/two POVs and throttle"
HidGame.Dev9                    = "6-button gamepad"
HidGame.DevA                    = "5-button gamepad w/throttle"
HidGame.DevB                    = "6-button joystick"
HidGame.DevC                    = "5-button joystick w/throttle"
HidGame.DevD                    = "5-button joystick w/POV"

WgmExtrmDgtlAuto.Name           = "Logitech WingMan Digital Devices(Auto-Detect)"


;
; non localized strings
KEY_OEM="SYSTEM\CurrentControlSet\Control\MediaProperties\PrivateProperties\Joystick\OEM"
SPSVCINST_ASSOCSERVICE= 0x00000002
SERVICE_KERNEL_DRIVER = 1
SERVICE_DEMAND_START  = 3
SERVICE_ERROR_IGNORE  = 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               DSIGX   LTSHJu8     OS/280     VVDMXhp    cmap    Bcvt <65    hfpgmu  (  gasp# 
      glyfa  5 |hdmxE$  "  headD't  ,   6hhea	  d   $hmtxJ  L  locan*,    maxpr      nameQ
h    
postL   prepd          i_<      Nw    0f  f             ff  
U
U                     *       / F  %             d 	                MS   @ ff  f                       -"        >          >        F        M        _        g        s       1 {                                 	   |    	  p   	     	  $   	     	     	     	  b   	  ,L   	 	 Px   	 
L   	  2   	  DF   
                                                         $     0   $  <   -  J   
  X     d   
  p     |Copyright (c) 1997 Microsoft Corporation. All rights reserved.WebdingsRegularMicrosoft WebdingsWebdingsVersion 1.03WebdingsWebdings is a trademark of Microsoft Corporation. N o r m a l o b y e j n  n o r m a l S t a n d a r d C o p y r i g h t   ( c )   1 9 9 7   M i c r o s o f t   C o r p o r a t i o n .   A l l   r i g h t s   r e s e r v e d . W e b d i n g s R e g u l a r M i c r o s o f t   W e b d i n g s W e b d i n g s V e r s i o n   1 . 0 3 W e b d i n g s W e b d i n g s   i s   a   t r a d e m a r k   o f   M i c r o s o f t   C o r p o r a t i o n .   M i c r o s o f t   C o r p o r a t i o n V . C o n n a r e , S . L i g h t f o o t , I . P a t t e r s o n , G . W a d e D e s i g n e d   i n   1 9 9 7   a s   a   c o l l a b o r a t i v e   w o r k   b e t w e e n   M i c r o s o f t ' s   V i n c e n t   C o n n a r e   a n d     t o p   M o n o t y p e   d e s i g n e r s   S u e   L i g h t f o o t ,   I a n   P a t t e r s o n   a n d   G e r a l d i n e   W a d e .   T h e   i m a g e s   a r e   i n t e n d e d   f o r   w e b   d e s i g n e r s   w h o   w i s h   t o   i n c l u d e   l i v e   f o n t s   a s   a   f a s t   w a y   o f   r e n d e r i n g   g r a p h i c s .   W e b d i n g s   i s   t h e   l a t e s t   m e m b e r   o f   M i c r o s o f t ' s   W e b f o n t s .   D e s i g n   c o o r d i n a t i o n   b y   V i n c e n t   C o n n a r e .   I m a g e   d e s i g n s   b y   V i n c e n t   C o n n a r e ,   I a n   P a t t e r s o n ,   S u e   L i g h t f o o t   a n d   G e r a l d i n e   W a d e .   W e b   a n d   d e s i g n   c o n s u l t a t i o n   b y   S i m o n   D a n i e l s .   T r u e T y p e   h i n t i n g   b y   V i n c e n t   C o n n a r e .   C o m p l e t e d   A p r i l   2 9 ,   1 9 9 7 . h t t p : / / w w w . m i c r o s o f t . c o m / h t t p : / / w w w . m i c r o s o f t . c o m / t r u e t y p e / N o r m a l N o r m a a l i N o r m a l N o r m  l N o r m a l e S t a n d a a r d N o r m a l N o r m a l n y N o r m a l1KG=K9 N o r m  l n e N o r m a l N o r m a l N a v a d n o A r r u n t a N o r m a l N o r m a l N o r m a l N o r m a l                                               	
 !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`a bcdefghijklmnopqrstuvwxyz{|}~ (      ~            b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~                                                                                                        # # # #/+._(c		

?
^
v


)@iCY|u+Yh[`!#%&7''1'T')*K*i+(+,H,-$.J.t./1123355w6u67*89B99;<c==k=>>?'?8??@@A>BCYCDsEFH*HIKM?NAO4OPQ+RT`U_UVkVWXYYZ[6[]9^m_._`]`abcdf?fgQhkIkmVo~pq\rtCuivQwxhzf|J|~"~S8v~4[l4~! T*:LC({qxzRE1}}   $%         	  
                                               !  "  #  $  %  &   '   ( ! ) # * # + $ , $ - $ . & / & 0 ' 1 ( 2 ( 3 ) 4 * 5 + 6 + 7 - 8 - 9 . : / ; / < 1 = 2 > 2 ? 3 @ 4 A 4 B 6 C 6 D 7 E 8 F 8 G 9 H : I : J ; K < L = M > N ? O ? P @ Q A R B S B T C U D V E W F X F Y G Z H [ I \ J ] J ^ K _ L ` M a N b N c O d Q e Q f S g S h S i V j V k V l W m W n Z o Z p Z q [ r [ s \ t ] u ^ v ^ w _ x ` y b z b { c | c } d ~ e  f  g  g  h  i  j  j  l  m  n  n  n  p  p  q  r  r  s  t  u  v  v  x  x  y  z  z  |  |  }  ~  ~                                                                                                                                                                                                  @Ppeb=db=cb=a^=`^=_^=b]=^]=\Y=[Y=ZY=XU=WU=VU=YT=UT=SP=RP=QP=OL=NL=ML=PK=LK=JG=IG=HG=FC=EC=DC=GB=CB=]A=TA=KA=BA= ((   @7?#E"E!
E EEEE E
 KRKP[XYK KTB ++++++++++++++++++++++BKSXDYK2SX  BY+ B "Q#x@Rx
  UxB!!EiS#C\ZBKPX BYC\X BYp>++++++++++++++++++++++++++++++++++++77Ei  TX@`YD0 p2 0 pps   @.EDCBA@?>=<;:98765/.-,(&%$#"
	 ,E#F` &`&#HH-,E#F#a &a&#HH-,E#F` a F`&#HH-,E#F#a ` &a a&#HH-,E#F`@a f`&#HH-,E#F#a@` &a@a&#HH-, < <-, E# D# ZQX# D#Y QX# MD#Y &QX# D#Y!!-,  EhD ` EFvhE`D-,
C#Ce
-, 
C#C-, (#p(>(#p(E: -, E%EadPQXED!!Y-, E C`D-,CCe
-, i@a  , b`+d#da\XaY-,E+)#D)z-,Ee,#DE+#D-,KRXED!!Y-,%#  `#-,%#  a#-,% -, ` < <-, a < <-, CC-,!!d#d@ b-,!QXd#d  b @/+Y`-,!QXd#dUb /+Y`-,d#d@ b`#!-,E#E`#E`#E`#vhb -,&&%%E#E &`bch &ae#DD-, E TX@D E@aD!!Y-,E0/E#Ea``iD-,KQX/#p#B!!Y-,KQX %EiSXD!!Y!!Y-,EC `c`iD-,/ED-,E# E`D-,E#E`D-,K#QX 34 3 4 YDD-,CX&EXdf`d `f X!@YaY#XeY)#D#)!!!!!Y-,CX%Ed `f X!@Ya#XeY)#D%% XY%% F%#B<%% F%`#B< X Y%%)%%)%% XY%%CH%%`CH!Y!!!!!!!-,CX%Ed `f X!@Ya#XeY)#D%% XY%% F%#B<%%%% F%`#B< X Y%%)) EeD%%)%% XY%%CH%%%%`CH!Y!!!!!!!-,%  F%#B%%EH!!!!-,% %%CH!!!-,E# E  P X#e#Y#h @PX!@Y#XeY`D-  f                          f                                                                                                                                                                                      j   9 # P 2 K&  W JU )   d M M  x  2 K d     2 K d   _ xgdT   z # fN  0 #* ( [ B  z              V      R N    5                        @ @       g                                                                 3 7L L   -  (     "             ?  6             x,      a t f                           ;  /    "       	 d  n                                     F F                 P   b  W     , 7         a a  ` H" g     `  !m   6 % d  M^   [                                 %     7   #     D          3  '  ' g g
U    4  4  4 ,         	 																																																																																																																																																																																																																		   
 

















































































































































































































    	    
    			    			    

	
    			
   	 				
	
	   	 		


		   
 





   
 


	
    	    	    
    
   # !#   % #%    )                                                                                                         '                                                                                                      )       !+ !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!(!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!+!!!!   %0 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%-%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%0%%%%          @	    /<103!%!! (* V(  @S{{{{SSSS}{yqome  ge]GEIQSU]: :64.,(?"[],6u[$>Mg[a{GoSa /<<<</922_q2392q32210]_]54'&'67654'&'#"'.547547&'&5476%7#"'&57327&57327&547632327654327654#"'dUb! %I,,>AB>-,
I%! 	bVdhC%0,4**=6"$-GU"(AA(#UH,%"7=**5,/&Ch~b %+%dK&@L\QooQ\L@&KdO%+% e~'$x
	N"<aT
1}E7A@8E}1
,a<"N	
x$  / " , 5 ? E M W ] f l r x    @JZxxussgyyzz|mmpnoor~~|nnngENNW__a^^fhghktggZZ]IIHJJL;;9<<=YYEDDA22311/(()''& t" EEsttwsssgXX[GGHFFL77966?  YYsE@@C553--/,,*##$!"! "EhD^2_1N('OEglliddfccaTTVSSRg@g|sqss
 " /<<<<<<< <9<<<<<< <<<<<< <<<<<<//<_]<<<<<<<<<<<<<]<<<<9=/<<<<<<<<<<<<<<<<<10 _]'$! '7'&/7$767537&'&'&'&'%76%&'&'%67656766765>'632/'&#"632%&'&/'&#"$32%&'&/t~QN8Q.<<.Q8NQ~tp9oTIrZEZ>HE2JCQN@6=Z*w=7ZrZE=6@NWHHp&phghho[ 397=SEH>uCJ2)&o"R33R"o-&6$ll$;^A:xm[P|1_Dpk,.&Al;}xCAPTI;[mx:>1|A&.,oPH;ITb`[W;q}+pD   13   2 6 : > A K P T W ] @sUW\Yt]'] ]663998::7==<>>;AJ;<7835?5K?QDBt TKt&Ot*M.&n nn^VWt[t\JGDD?JJMt-'tLYKStT#=u>9u:6u5t.n	on^ <<9<<<<9<<<<<<<_q10 !   !   !"' !27'76#"&=.5467 '#''5##"5#'55#'##533  SSm[vZ}z{|2EE26EQ5(0;j2I"%d SS dmud|C||F0/Fo\0IH<&I787<4889kUaEF''$$"  ^ % 2 ? T@0??22JGHG3;r&.	 r	# /<</10_]_]]_]_]]]]#"'&'7&#"#"'&7'5632632632&>%&>^A@&22&@Ajj6..6jj%0%0C5rDDr5X9229
	O;6_w/
	O;6_w  
 ] p ~         @_XbFRbD>6099D qwyf("LDPH;AFywDHDHDd"6,,,,, ,((0dsjd_d /<_]<99//<9<<<</<39<39103252#"'33##26#"'&54&7636=#5#&5473535&'#"'&5433254'&'&54767673?6! 32734#"'67676&'&#"32766765476&465'&'&54'&'&''76#"%&547#"#"&#322654])~W;(0'25"/-#'P>xqmtAP($,."63&/'<X)A/i2uOooPa2h/Bz$."&lr)I5t/^|Hv&h;"7]2(GN9":!.$~{H*qlwG1.*&&)(j`u5eD6#=SDA.C$&K-
Z


Z
+G,$B.ADS=#6D^6'AKK@'68oT()4	LLEcFaHPEEF@r.=zbrTaEcTmoS4)(9TB/+5>61- *)WRa6M  R_   * J E@&#,J)%	<: KDB42' 'K 9999/10%#"&5467&7.5!#+"'6326'7'7''''7777'7'z,dn(~NQ"*01,*+X<ghV87VilB^^BkhU87Wgh=,2J~+J.*knp+G"	#A8Vgg=Z\?jhW76WilA\Z?ifU  N ) N Y  ^@73O2PpFBhk	y{Z
{  Zp{c{!c{h>5{0t{_{>{J{& /9<9910&'&'%654#"327#"'&547632#"'7327654'&#"&'&'67632&'#"'&54767&3276'4'6'&'[	%.p/&\DL@N	l^{1~*HQ4@y.0a8E'8G)[;

=#EF@@C*&"[Ok7-3)\H"HEI4z|B
"Nc.HO1@{()N	&/n)5{-7/"#>',>."%*$,+TAE!t{C:w))zU00CI5&O%0%     "@  999910%#"'&'#  54 !  Kiz}
z{VXGHm&h  5  "@ 
 999910 !"'#"'>54'&54 !  
iKz{&mXh       !   10%''''7'7'7777%TTT**T    = ! ( 7@($%'&" *&)$'%(&%") 99910%''''7'7'77777'	TTT*;cTS)`Hb<a  T  ; I O W C@#B<H Y(XFFFCC C<4OL4%X _]_]10&#"&'&'63232632#"&547676767676327632&%#"'%&#"6TG	<([b+Q89W7,k`Srr`.!/?S	qT^_nDL6'  ($Q
2*J4#k=>.0">:q;3TW6.& 88I$/(NzaifH]<<L=,%qMLW*    I@#  	  /9/999910%	&'&5476324'6?K4)q{\Ll_7(`c>r~14J[[%$WF=    f f   &@		   ??9/<<<9/<10!!!!      f      f f  @i i    ??<<10	!    f    @  @   g 10!!       @    @ 	gf 10!!!         @     <@fff fg	fgf <<10!!!!!!! @                @j jj   <10!	       @ jj j <10	  @@@   jjj //10!@ @  @ @@   jjj //10	@@ B   (@jj  jj  <<<10	BN@     (@ jj jj <<<10	2@        	 S@4wfjj    	  jj  <<<<<_]]]10	#3Nf@        	 W@9x         fjj 
	 	jj
 <<<<<_]q]]10#32@    gg    @ gggk <</10!!!!g     @      &@    10%!!@&  &@   	 10 #" 54 32 @RRfRR    -2     @@
	xx  		 <<<9/9/299999=/_]]999=/9910!#!#3'!#3-jBjM(J*>lk2i@s+   q 1 G W @HST IOPQ	JHGC,4EB6@;7=>& HYJXQPKLWJ76RCB,4E;@=>&2G &,RRKJIHHJX <22999910'676767&'&'&''&'&'&'676767$''6767'6%67	%%7'67qIDng{$%'[OG=M_B=[~w-)dDNa887Q%(_[*(`E{TK])T{'A.+:ecHJC@,&[/\`%$WDU#"THc?=G)$W1Hi.,hHs~91w>m~.#$VL	%3r9MEG$V<,6=   Ga + / > @Y*)"$ $-.

! ,/	+ @/.808?	
!"
'?-.,/=:95 867= *+'2= /9229299229929_]910#"'#"'7'&54632777&54632'7&#"'7632W
g&%#h##
h##b	g$#!S?CeA',tMXT##g#%%h
##g	c"#i
T!=@'+tL   f   5 E I L O S V Y \ _ b e h k n q t w z }@mmm
m>wS@PBwC EEt|wvxxzuz}hpkvllmjmgssq}Gu{jfrro{Fv11.'v(!v.cv\va_a_ae[vYWvLvUOUOUKYY3Kv.......V. .;FGev3:G88~<@DE>ECEwRSww	E~|wxt{s9UvOvWWL\av_vc\c\c`e``V[XN^v4ZYJVv2kkphlpplh@9fvI22v1'$v+9~{vF:g7~ <9///9/<<<<<<<<99//<<9<<<<<<<<<<<<_]]]]]]]9/99//99//9/<<<<<<<<<9/99<9/99<<<<]<<<<<10##5!#5#535#5353!533#3!"32653#"&54675!!!!!!35!353!!%57!5!'7'#57!'7'##''##''lKJmmmmJIKlll+-O6,,7-T<;TM3/1 Zl&mM/We$ecopW1WpoopW1WpoVDDD\8:NN:JiiJ<i0BT:ooW[WWooooWWWoo\d@"da   f  . C T c x |@.~[v\v^ljivvlpmruMsqvMHQQN NMwxJ6vH8vFh_fvaevb ZXvWv I#F#F#DKJM}}C/v*4%2v'1v(+*-vA;TDRyz	z{{OR	M}""!UUVcdx#JxvLKvwsttnplHEDDIDT<$$%55469::#:;><A.Iv#Gv77#30//44v%/*Cv+&)*%*%2v''%#evahv_`g_v[\]_Xv#..kjvi}} <222<<222<<< 3<< <<<<<< 2<< <<332<<<< <</22<2<299//<<<2_]]<<10#4%&%$54%#!35'75'537%53'3'5#'533#'3'#'733!'5#'77535#'73335#535'!! b*]$J C~z;J$IapU,9w4FFV}VY&2a*+8JJ,\ fG#%,V&%aU(!!4nj/_bkk_k.wwjxWc$ /<K:?x:`{7+Sww=/m2$(    f    ! % ) - 1 5 9 = A E I M Q U Y ] a e i m q u y }    @"$.&1)TMKCESKgw*!-99@6>52yuvsmk^`obpd:G==IINQYxYYV
Zf]iz}


rjskUTvJJBKC./v))"(#vvv~noveda``d
}|vxy QPvAI@Hv=;9328v@&-,v! vvih]\VXXX\v  /_]<q<<<<<<<<<<<<<<9//////////]q<<<<]]<<]<<<<<<<q<<]<<<<10!3!333!3535335335##5#5##5#5#5#5##5##5#5#5#5#5#5#5#5##5#5##5#5#5#5#5#5#5#5#'5#5#5#  !-)u~R00000g090)0+0000(080(00+00+00x00000E000000f,UdxxxxExxxx)xxExxxxxxxxxxxx&xxxxxxxxXwwwwIxxxxxx6xxxxxxxxxxxxxxxxxx    f  " 3 7 ; ? C F J R Z b jH@GWWWS S8COOWKK?<@;C8A:B997813'v$v(( v1""ll[X_ _B/..ICB,cg=>,*)vv,kei>=,UY9FEA:B9@;C88911,/	,"k ka]CBCQM<?C(v&v47 23w#HI+*w) /2<99<23<<<299992<22<_q<9=//399992q_q_qq10#4%&%$54%!!!5'53'!%#%735%!%737	'	%7#5%53%4#"324#"324#"324#"32 []7qEq73AVVTbfMo~%6777747777788747887f['J45V6%qeA44En-W-dO]HY<HHM!Xp887777777887   f   C Q _ @g8$*$$$$$$$$$$=f7BNHJF &f+.. f4BCCa\VTX` `1(:.m!4mA Ca\VNH	` <<<<<<10_]_]_]_]]_q_q_q_q#"&54632!6767676767675#"&5432;43232=432+!654'676%654'676= !!OEKMBM4/pELLCL!H?AQ]@?+>@?H!.#{6)a.${7(a~}}}k O3N O3NF(?RR@SS@SS(F=8'($M?=8'($M   f      # @Zvvv			
v%#!!! !v$v	vv
vvvv"!$ <<<<<<<<<<_]]<999///10!355!3!%%%%!!!!!!  {a{vdBdCdf~MLLL 	  f        ! - 1 @Z'%'%"3+)+)1-2 ! vv00/.1!1(-$,&*(2vvv	v 02 <<<<<<<<</23/29=//2/32/32<99//<99//10!%!!#5!#!%#5!#!#5#5#5!##%#:  EIu*WIIVBB4BBtIT\L
RR

<<<<<<
   f  " 3 7 @_  93v'$v(#v!v154/.,*)vv,
	8/6411," 8'$#(v&v# 23w+*w) /<99<99<<<9/<<10#4%&%$54%!!!5'53'!%#%73!!!! []7qEq73AVVdf['J45V6%qeA44En-W-dO]HY*HL    f W  
 ; k u @oEDw0
1
321	  ;;wltmusoqpr	vegKB<wWXv'ZUR]$,vnpomqlusrt
 221	309
 9;>Ej;v aNEX+,v <<<992222222229<9<2229/93910-'%	'	$54767654'&'$#"'&$3273276!&'&'4654'&!$54$5476767654&54%'7'7'dl''0rwvlK2zp2_iZR4Y;f=GXwg,[AgWd3^9j}8Bn*5,&'4G7!\8$z)X.66	IF82()16P@=M#C"^ F%P!-)&6
<!P96S?tt   f  U [ u @yk	hgi`RQa[VP[bQ[;>@CEHJMNX
[9/+519'#		9[\UwpvVPQ[igabebXQ>=@CBEHGL	9NNUw vx3 39/9'9#!)+-	9smhk //2229922_]9/9999<<9999999999910!!6!2'&54767&'&632&'&'66&$&'&'&'77777!%&'4'&'7'&/&'&# ! $  aA>NE;`7)]%.Jv^4V		!L**I!UThYyH0B&XK%Z>A@EBE	LP/-1\H'(>ND-`E/&W?AYXfE:6Zl\t.","-0-S	lAXM:2<D99	99	,N+/'G;:=CcA3dd    f <   # ' + . 2 6 : > A@2/63.:1054.978.8.'$CAA?@<=@>;>;)(  )	#vxvC'B10105,.&A?;(<+( !  B5499999999 98'vB _]q<<<<<<<<<<99//<<<<]<<99//9=/99//9910##5!#5#353!533!!35!353'!	#	!5!#7#73#73!3'#7#7mn:G;{{;:n aa0ifA)M&O,iiQL*Q$j4444^aqpK1K,a P  ( 8 F S _ g @Pf`d?\VXTNIKG v9? "x111111107)(Xhx ,hV`C25&vIC
f\NP=v 
 /3_]9999_]22222310#"'&5!2/##"'&'&54767323#"'&'&76324'&# 3276'654&'632654'&'&'&547PSYi`Api"*.	#~cf5o^j#q:%'R.+5$KafX`QKx,4\VR
'@K8;)"$dl\~BrlrvP/pw"4< !\ryvb[VslfTIO!9=N03G:6B'   f   , g o \@4lhIMA'U1_-qpdZaWQIK:5=+%vnlvhp 993<<910!27676323276763276323'&'&#"32&'&'#"&#"#"'&54767676327654&54323254"'&#  _8'l9>pbao8g)UZ
FyyGY3##,H_+^L[	5R#b-7;A~pY8 $@g($"%*"<-7#81f.>- F|7}kM1!9\eu<88<?;;@hD#*l1    Yr   6 E @S=,w17w1@@18 H X h  G%7GWgF%  %f#v C@:4v)f'7 F _]<<9=////]]9///10! %&'67$! &'&'$4&#"'.547326'#"&547'632YMpqqpNNppV1FkABijE>!1EiPMcds-2cbbccVD)._bvu/>&K>VC*/uGC7:aa+(o  S ? q @Yhwgjwe97v66'676G6664w9NvOLwQ$w(w" w9w 2w ]w@s4	67g$ O*vJvSr	v<avn /22992_]]q10'654'&#"#"54654&7632767676'&'&546324733676767676'&'&'&#&5476! )N;GCL^;+**%#;S&"XRC#	(((x%~YOjmm#!-I=w>;"#dciZf_B	B
Mp vj{`]ZfcNLDD$F8fXQ#\f8)2.&3(:>>FGu`,{se4\yWX{ \#]6m{zF;@Lz    f   * g@5#,	%""+"! + <<<<<<<9=/9910!$54%&%$54%!5!##7##!!#! l7446b.B\

fA$5V5%(D?$qe&*   f   # @F
	%##$#Wg 	v$ <<<<<_]<<99=//<9=/9910!!!5!##7##!!	!47632  7446b/D**&/WV0%f%($@6EE6@ )  f      # ( , 0 5 9 > B G K P T Y ^ c k o w {                   @Q[RQ;1$8ENWb=^Q1abcI%W@ N.E*8WNE88ENWcS4cc <<<<9////<<<<<<<<<<<<9<9910!2$3232$323#	#'3#'3#'3#'3#73#73#'3#7#3	#73'#57!7!'#57!7!%#57	#5	#57&#"32'#&#"32'#&#"32'#&#"32'#'#	5'#'6#"32#3'!'6#"32#36#"32'!3#36#"32#3  UoSdUBBNUc:{F6ubgh	B*+TEGs6v35'#mNhI	(Tvz*&E`X6s37uSw	$W
?3q&
(.		*/R}Pd		$%
>?weps	.'/*)f?:;>~up(M!f-T/M!|FD+-N!T|-T%/PR|E
u	4n>_u	c%   f  c q             
"%@2_^]YXWSRQ]WQQW]cM cq!$q  	qq'M#J)@ )3-9660)HCCH>>H&@	;oqq&&@@	WXM$@
ZV'@{}jvf& <99/99<<<<<<<<<_]]<<9<99/99<<<<<<<<<<9///10#737373567556755675! %&'&'$'35&'35&'35&5475675#6!5#5#5!67672767#53#"'&7!#"'&54332?2!!!3#356&'5656&#"6%4'!"'7327$%6'#"'327543232632327#65&'5&'5&''7%'7#53'7!476327 3ID-.D-.DB8:@B8:@B8CBG>;JG>CBE)'E)'EL!Om	d>B4:6k3;)0sAz|}{jVWJBf 9PF[fn<MFC<MFGHj-Add.JTyy
60>qm	&/07q)Q8AHL=FCL=AW2&<	II<7+%42%*93I*2<1w4#b4#fP\
PX
Pr@@oPXP[Ph!-d!-j2A-&R`J)aK-a>/H &OVn\4>,2\fXSgtt[!X_!\T	iT0%"1Vy:&'<(,$$3C%Foj X%\#[%` M&O%*+7%	y0.   f &    $ 0 G S        @p'  ,&#" 1L@PH,>HXW=lVVtuwn9y#"$11Ve`ZkXiZV/-,H@PVU <<<<999//<2<2<39/10#'35'35/7632.76&'&'#&'&%5$# &'6%&'&'&547!!&'&'&'766767675#"'6767676735!4#"32'4#"32'4#"325!#5!#7/LE"1N/8emH:cQvX@fB2f0{)TUfJUR<A ?5+-('/=/@EA-O.eZco]g"?%PP(8U'*3-F&'7T&#@"U>8#,K5/{SY3+^HtP

U!a=7'$
St)+ #6*=TN